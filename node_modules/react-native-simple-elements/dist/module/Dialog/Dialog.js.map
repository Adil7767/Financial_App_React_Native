{"version":3,"sources":["Dialog.tsx"],"names":["React","Platform","StyleSheet","Modalbk","Modal","DialogContent","DialogActions","DialogTitle","DialogScrollArea","overlay","ThemeContext","DIALOG_ELEVATION","Dialog","children","dismissable","onDismiss","visible","style","theme","useContext","borderRadius","roundness","backgroundColor","dark","mode","colors","surface","styles","container","Children","toArray","filter","child","map","i","isValidElement","type","cloneElement","paddingTop","props","Content","Actions","Title","ScrollArea","create","marginVertical","OS","marginHorizontal","elevation","justifyContent"],"mappings":"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","sourcesContent":["\r\nimport * as React from \"react\";\r\nimport { Platform, StyleProp, StyleSheet, ViewStyle } from \"react-native\";\r\nimport { Modalbk as Modal } from \"../Modal\";\r\nimport DialogContent from \"./DialogContent\";\r\nimport DialogActions from \"./DialogActions\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport DialogTitle, { DialogTitle as _DialogTitle } from \"./DialogTitle\";\r\nimport DialogScrollArea from \"./DialogScrollArea\";\r\nimport overlay from \"../theme/overlay\";\r\nimport { DefaultTheme, ThemeContext } from \"styled-components\";\r\n\r\ntype Props = {\r\n    /**\r\n     * Determines whether clicking outside the dialog dismiss it.\r\n     */\r\n    dismissable?: boolean;\r\n    /**\r\n     * Callback that is called when the user dismisses the dialog.\r\n     */\r\n    onDismiss?: () => void;\r\n    /**\r\n     * Determines Whether the dialog is visible.\r\n     */\r\n    visible: boolean;\r\n    /**\r\n     * Content of the `Dialog`.\r\n     */\r\n    children: React.ReactNode;\r\n    style?: StyleProp<ViewStyle>;\r\n    /**\r\n     * @optional\r\n     */\r\n    theme?: DefaultTheme;\r\n};\r\n\r\nconst DIALOG_ELEVATION = 24;\r\n\r\n/**\r\n * Dialogs inform users about a specific task and may contain critical information, require decisions, or involve multiple tasks.\r\n * To render the `Dialog` above other components, you'll need to wrap it with the [`Portal`](portal.html) component.\r\n *\r\n *  <div class=\"screenshots\">\r\n *   <img class=\"medium\" src=\"screenshots/dialog-1.png\" />\r\n *   <img class=\"medium\" src=\"screenshots/dialog-2.png\" />\r\n * </div>\r\n *\r\n * ## Usage\r\n * ```js\r\n * import * as React from 'react';\r\n * import { View } from 'react-native';\r\n * import Button from 'react-native-simple-elements/components/Button';\r\n * import { Paragraph } from \"react-native-simple-elements/components/Text\";\r\n * import Portal from \"react-native-simple-elements/components/Portal\";\r\n * import Dialog from \"react-native-simple-elements/components/Dialog\";\r\n *\r\n * const MyComponent = () => {\r\n *   const [visible, setVisible] = React.useState(false);\r\n *\r\n *   const showDialog = () => setVisible(true);\r\n *\r\n *   const hideDialog = () => setVisible(false);\r\n *\r\n *   return (\r\n *     <View>\r\n *       <Button onPress={showDialog}>Show Dialog</Button>\r\n *       <Portal>\r\n *         <Dialog visible={visible} onDismiss={hideDialog}>\r\n *           <Dialog.Title>Alert</Dialog.Title>\r\n *           <Dialog.Content>\r\n *             <Paragraph>This is simple dialog</Paragraph>\r\n *           </Dialog.Content>\r\n *           <Dialog.Actions>\r\n *             <Button onPress={hideDialog}>Done</Button>\r\n *           </Dialog.Actions>\r\n *         </Dialog>\r\n *       </Portal>\r\n *     </View>\r\n *   );\r\n * };\r\n *\r\n * export default MyComponent;\r\n * ```\r\n */\r\nconst Dialog = ({\r\n    children,\r\n    dismissable = true,\r\n    onDismiss,\r\n    visible = false,\r\n    style,\r\n}: Props) => {\r\n    const theme = React.useContext(ThemeContext);\r\n\r\n    return (\r\n        <Modal\r\n            dismissable={dismissable}\r\n            visible={visible}\r\n            onDismiss={onDismiss}\r\n            contentContainerStyle={[\r\n                {\r\n                    borderRadius: theme.roundness,\r\n                    backgroundColor:\r\n                        theme.dark && theme.mode === \"adaptive\"\r\n                            ? (overlay(DIALOG_ELEVATION, theme.colors.surface) as string)\r\n                            : theme.colors.surface,\r\n                },\r\n                styles.container,\r\n                style,\r\n            ]}\r\n        >\r\n            {React.Children.toArray(children)\r\n                .filter((child) => child != null && typeof child !== \"boolean\")\r\n                .map((child, i) => {\r\n                    if (\r\n                        i === 0 &&\r\n                        React.isValidElement(child) &&\r\n                        child.type === DialogContent\r\n                    ) {\r\n                        // Dialog content is the first item, so we add a top padding\r\n                        return React.cloneElement(child, {\r\n                            style: [{ paddingTop: 24 }, child.props.style],\r\n                        });\r\n                    }\r\n\r\n                    return child;\r\n                })}\r\n        </Modal>\r\n    );\r\n};\r\n\r\n// @component ./DialogContent.tsx\r\nDialog.Content = DialogContent;\r\n// @component ./DialogActions.tsx\r\nDialog.Actions = DialogActions;\r\n// @component ./DialogTitle.tsx\r\nDialog.Title = DialogTitle;\r\n// @component ./DialogScrollArea.tsx\r\nDialog.ScrollArea = DialogScrollArea;\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        /**\r\n         * This prevents the shadow from being clipped on Android since Android\r\n         * doesn't support `overflow: visible`.\r\n         * One downside for this fix is that it will disable clicks on the area\r\n         * of the shadow around the dialog, consequently, if you click around the\r\n         * dialog (44 pixel from the top and bottom) it won't be dismissed.\r\n         */\r\n        marginVertical: Platform.OS === \"android\" ? 44 : 0,\r\n        marginHorizontal: 26,\r\n        elevation: DIALOG_ELEVATION,\r\n        justifyContent: \"flex-start\",\r\n    },\r\n});\r\n\r\nexport default Dialog;\r\n"]}