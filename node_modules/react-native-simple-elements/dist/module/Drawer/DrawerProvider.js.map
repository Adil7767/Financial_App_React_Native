{"version":3,"sources":["DrawerProvider.tsx"],"names":["React","Animated","Easing","styled","color","compose","layout","position","flex","space","DrawerContext","TouchableRipple","default","Item","Section","DrawerContainer","View","defaultProps","top","left","height","zIndex","DrawerBackdrop","createAnimatedComponent","DrawerPanel","flexWrap","overflow","backgroundColor","Drawer","props","drawerPaddingTop","children","showMask","animated","drawerIsOpen","setDrawerIsOpen","useContext","animatedOpacity","useRef","Value","current","animatedWidth","useEffect","timing","toValue","duration","easing","out","cubic","useNativeDriver","start","opacity","width"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport { Animated, Easing } from \"react-native\";\n// import styled from \"styled-components\";\nimport styled from \"styled-components/native\";\nimport { LayoutProps, PositionProps, color, ColorProps, compose, layout, position, flex, FlexProps, SpaceProps, space } from \"styled-system\";\nimport DrawerContext from \"./DrawerContext\";\nimport TouchableRipple from \"../TouchableRipple\";\n\n// @component ./DrawerItem.tsx\nimport { default as Item } from \"./DrawerItem\";\n\n// @component ./DrawerSection.tsx\nimport { default as Section } from \"./DrawerSection\";\n\nconst DrawerContainer = styled.View<LayoutProps & PositionProps>(compose(layout, position));\nDrawerContainer.defaultProps = {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    height: \"100vh\",\n    zIndex: 2,\n};\n\ntype DrawerBackdropTypes = LayoutProps & PositionProps & ColorProps;\nconst DrawerBackdrop = Animated.createAnimatedComponent(styled.View<DrawerBackdropTypes>(compose(layout, position, color)));\nDrawerBackdrop.defaultProps = {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    height: \"100vh\",\n};\n\ntype DrawerPanelTypes = LayoutProps & PositionProps & ColorProps & FlexProps & SpaceProps;\nconst DrawerPanel = Animated.createAnimatedComponent(styled.View<DrawerPanelTypes>(compose(layout, position, color, flex, space)));\nDrawerPanel.defaultProps = {\n    position: \"absolute\",\n    top: 0,\n    left: 0,\n    height: \"100vh\",\n    flexWrap: \"nowrap\",\n    overflow: \"hidden\",\n    flex: 1,\n    backgroundColor: \"white\",\n};\n\nconst Drawer = (props) => {\n    const {\n        drawerPaddingTop,\n        children,\n        showMask,\n        animated,\n    } = props;\n    const { drawerIsOpen, setDrawerIsOpen } = React.useContext(DrawerContext);\n\n    const animatedOpacity = React.useRef(new Animated.Value(0)).current;\n    const animatedWidth = React.useRef(new Animated.Value(0)).current;\n\n    React.useEffect(() => {\n        Animated.timing(animatedOpacity, {\n            toValue: drawerIsOpen ? 1 : 0,\n            duration: 100,\n            easing: Easing.out(Easing.cubic),\n            useNativeDriver: false,\n        }).start();\n\n        Animated.timing(animatedWidth, {\n            toValue: drawerIsOpen ? 240 : 0,\n            duration: 200,\n            easing: Easing.out(Easing.cubic),\n            useNativeDriver: false,\n        }).start();\n    }, [drawerIsOpen]);\n\n    return (\n        <DrawerContainer\n            width={drawerIsOpen ? \"100%\" : \"0\"}\n            testID=\"drawer_container\"\n            pointerEvents=\"box-none\"\n        >\n            <DrawerBackdrop\n                // as={Animated.View}\n                testID=\"drawer_backdrop\"\n                width={drawerIsOpen ? \"100%\" : \"0\"}\n                style={{\n                    opacity: animatedOpacity,\n                    backgroundColor: showMask ? \"#00000077\" : \"transparent\",\n                }}\n                pointerEvents={showMask ? \"auto\" : \"box-none\"}\n            >\n                {showMask ?\n                    <TouchableRipple\n                        onPress={() => {\n                            setDrawerIsOpen(false);\n                        }}\n                        style={{\n                            width: \"100%\",\n                            height: \"100%\",\n                        }}\n                    >\n                        <></>\n                    </TouchableRipple>\n                    :\n                    null\n                }\n            </DrawerBackdrop>\n            <DrawerPanel\n                testID=\"drawer_content\"\n                style={{\n                    width: animated ? animatedWidth : (drawerIsOpen ? 240 : 0),\n                    // height: \"100vh\",\n                    position: \"absolute\",\n                }}\n                paddingTop={drawerPaddingTop ?? \"0\"}\n            >\n                {children}\n            </DrawerPanel>\n        </DrawerContainer>\n    );\n};\n\nDrawer.Section = Section;\nDrawer.Item = Item;\n\nexport default Drawer;\n"]}