{"version":3,"sources":["PortalConsumer.tsx"],"names":["React","PortalConsumer","Component","componentDidMount","checkManager","Promise","resolve","key","props","manager","mount","children","componentDidUpdate","update","componentWillUnmount","unmount","Error","render"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAQA,eAAe,MAAMC,cAAN,SAA6BD,KAAK,CAACE,SAAnC,CAAoD;AAAA;AAAA;;AAAA;AAAA;;AAC/D,QAAMC,iBAAN,GAA0B;AACtB,SAAKC,YAAL,GADsB,CAGtB;;AACA,UAAMC,OAAO,CAACC,OAAR,EAAN;AAEA,SAAKC,GAAL,GAAW,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,KAAnB,CAAyB,KAAKF,KAAL,CAAWG,QAApC,CAAX;AACH;;AAEDC,EAAAA,kBAAkB,GAAG;AACjB,SAAKR,YAAL;AAEA,SAAKI,KAAL,CAAWC,OAAX,CAAmBI,MAAnB,CAA0B,KAAKN,GAA/B,EAAoC,KAAKC,KAAL,CAAWG,QAA/C;AACH;;AAEDG,EAAAA,oBAAoB,GAAG;AACnB,SAAKV,YAAL;AAEA,SAAKI,KAAL,CAAWC,OAAX,CAAmBM,OAAnB,CAA2B,KAAKR,GAAhC;AACH;;AAIOH,EAAAA,YAAR,GAAuB;AACnB,QAAI,CAAC,KAAKI,KAAL,CAAWC,OAAhB,EAAyB;AACrB,YAAM,IAAIO,KAAJ,CACF,sHADE,CAAN;AAGH;AACJ;;AAEDC,EAAAA,MAAM,GAAG;AACL,WAAO,IAAP;AACH;;AAlC8D","sourcesContent":["import * as React from \"react\";\r\nimport type { PortalMethods } from \"./PortalHost\";\r\n\r\ntype Props = {\r\n    manager: PortalMethods;\r\n    children: React.ReactNode;\r\n};\r\n\r\nexport default class PortalConsumer extends React.Component<Props> {\r\n    async componentDidMount() {\r\n        this.checkManager();\r\n\r\n        // Delay updating to prevent React from going to infinite loop\r\n        await Promise.resolve();\r\n\r\n        this.key = this.props.manager.mount(this.props.children);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.checkManager();\r\n\r\n        this.props.manager.update(this.key, this.props.children);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.checkManager();\r\n\r\n        this.props.manager.unmount(this.key);\r\n    }\r\n\r\n    private key: any;\r\n\r\n    private checkManager() {\r\n        if (!this.props.manager) {\r\n            throw new Error(\r\n                \"Looks like you forgot to wrap your root component with `Provider` component from `react-native-simple-elements`.\\n\\n\"\r\n            );\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return null;\r\n    }\r\n}\r\n"]}