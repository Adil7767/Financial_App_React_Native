{"version":3,"sources":["ListAccordion.tsx"],"names":["color","React","View","StyleSheet","I18nManager","ThemeContext","ChevronUpIcon","ChevronDownIcon","TouchableRipple","Text","ListAccordionGroupContext","ListAccordion","left","title","description","children","titleStyle","descriptionStyle","titleNumberOfLines","descriptionNumberOfLines","style","id","testID","onPress","onLongPress","expanded","expandedProp","theme","useContext","setExpanded","useState","handlePressAction","undefined","titleColor","colors","text","alpha","rgb","string","descriptionColor","expandedInternal","groupContext","Error","isExpanded","expandedId","handlePress","onAccordionPress","ChevronIcon","styles","container","row","primary","item","content","multiline","isRTL","Children","map","child","isValidElement","props","right","cloneElement","displayName","create","padding","flexDirection","alignItems","height","justifyContent","fontSize","margin","paddingLeft","flex"],"mappings":"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","sourcesContent":["import color from \"color\";\r\nimport * as React from \"react\";\r\nimport {\r\n    View,\r\n    ViewStyle,\r\n    StyleSheet,\r\n    StyleProp,\r\n    TextStyle,\r\n    I18nManager,\r\n} from \"react-native\";\r\nimport { DefaultTheme, ThemeContext } from \"styled-components\";\r\nimport ChevronUpIcon from \"@mdi/svg/svg/chevron-up.svg\";\r\nimport ChevronDownIcon from \"@mdi/svg/svg/chevron-down.svg\";\r\nimport TouchableRipple from \"../TouchableRipple\";\r\nimport Text from \"../Text\";\r\nimport { ListAccordionGroupContext } from \"./ListAccordionGroup\";\r\n\r\ntype Props = {\r\n    /**\r\n     * Title text for the list accordion.\r\n     */\r\n    title: React.ReactNode;\r\n    /**\r\n     * Description text for the list accordion.\r\n     */\r\n    description?: React.ReactNode;\r\n    /**\r\n     * Callback which returns a React element to display on the left side.\r\n     */\r\n    left?: (props: { color: string }) => React.ReactNode;\r\n    /**\r\n     * Whether the accordion is expanded\r\n     * If this prop is provided, the accordion will behave as a \"controlled component\".\r\n     * You'll need to update this prop when you want to toggle the component or on `onPress`.\r\n     */\r\n    expanded?: boolean;\r\n    /**\r\n     * Function to execute on press.\r\n     */\r\n    onPress?: () => void;\r\n    /**\r\n     * Function to execute on long press.\r\n     */\r\n    onLongPress?: () => void;\r\n    /**\r\n     * Content of the section.\r\n     */\r\n    children: React.ReactNode;\r\n    /**\r\n     * @optional\r\n     */\r\n    theme?: DefaultTheme;\r\n    /**\r\n     * Style that is passed to the wrapping TouchableRipple element.\r\n     */\r\n    style?: StyleProp<ViewStyle>;\r\n    /**\r\n     * Style that is passed to Title element.\r\n     */\r\n    titleStyle?: StyleProp<TextStyle>;\r\n    /**\r\n     * Style that is passed to Description element.\r\n     */\r\n    descriptionStyle?: StyleProp<TextStyle>;\r\n    /**\r\n     * Truncate Title text such that the total number of lines does not\r\n     * exceed this number.\r\n     */\r\n    titleNumberOfLines?: number;\r\n    /**\r\n     * Truncate Description text such that the total number of lines does not\r\n     * exceed this number.\r\n     */\r\n    descriptionNumberOfLines?: number;\r\n    /**\r\n     * Id is used for distinguishing specific accordion when using List.AccordionGroup. Property is required when using List.AccordionGroup and has no impact on behavior when using standalone List.Accordion.\r\n     */\r\n    id?: string | number;\r\n    /**\r\n     * TestID used for testing purposes\r\n     */\r\n    testID?: string;\r\n};\r\n\r\n/**\r\n * A component used to display an expandable list item.\r\n *\r\n * <div class=\"screenshots\">\r\n *   <img class=\"medium\" src=\"screenshots/list-accordion-1.png\" />\r\n *   <img class=\"medium\" src=\"screenshots/list-accordion-2.png\" />\r\n *   <img class=\"medium\" src=\"screenshots/list-accordion-3.png\" />\r\n * </div>\r\n *\r\n * ## Usage\r\n * ```js\r\n * import * as React from 'react';\r\n * import { ListItem } from 'react-native-simple-elements/components/List';\r\n *\r\n * const MyComponent = () => {\r\n *   const [expanded, setExpanded] = React.useState(true);\r\n *\r\n *   const handlePress = () => setExpanded(!expanded);\r\n *\r\n *   return (\r\n *     <List.Section title=\"Accordions\">\r\n *       <List.Accordion\r\n *         title=\"Uncontrolled Accordion\"\r\n *         left={props => <List.Icon {...props} icon=\"folder\" />}>\r\n *         <List.Item title=\"First item\" />\r\n *         <List.Item title=\"Second item\" />\r\n *       </List.Accordion>\r\n *\r\n *       <List.Accordion\r\n *         title=\"Controlled Accordion\"\r\n *         left={props => <List.Icon {...props} icon=\"folder\" />}\r\n *         expanded={expanded}\r\n *         onPress={handlePress}>\r\n *         <List.Item title=\"First item\" />\r\n *         <List.Item title=\"Second item\" />\r\n *       </List.Accordion>\r\n *     </List.Section>\r\n *   );\r\n * };\r\n *\r\n * export default MyComponent;\r\n * ```\r\n */\r\nconst ListAccordion = ({\r\n    left,\r\n    title,\r\n    description,\r\n    children,\r\n    titleStyle,\r\n    descriptionStyle,\r\n    titleNumberOfLines = 1,\r\n    descriptionNumberOfLines = 2,\r\n    style,\r\n    id,\r\n    testID,\r\n    onPress,\r\n    onLongPress,\r\n    expanded: expandedProp,\r\n}: Props) => {\r\n    const theme = React.useContext(ThemeContext);\r\n    const [expanded, setExpanded] = React.useState<boolean>(\r\n        expandedProp || false\r\n    );\r\n\r\n    const handlePressAction = () => {\r\n        onPress?.();\r\n\r\n        if (expandedProp === undefined) {\r\n            // Only update state of the `expanded` prop was not passed\r\n            // If it was passed, the component will act as a controlled component\r\n            setExpanded((expanded) => !expanded);\r\n        }\r\n    };\r\n\r\n    const titleColor = color(theme.colors.text).alpha(0.87).rgb().string();\r\n    const descriptionColor = color(theme.colors.text).alpha(0.54).rgb().string();\r\n\r\n    const expandedInternal = expandedProp !== undefined ? expandedProp : expanded;\r\n\r\n    const groupContext = React.useContext(ListAccordionGroupContext);\r\n    if (groupContext !== null && !id) {\r\n        throw new Error(\r\n            \"List.Accordion is used inside a List.AccordionGroup without specifying an id prop.\"\r\n        );\r\n    }\r\n    const isExpanded = groupContext\r\n        ? groupContext.expandedId === id\r\n        : expandedInternal;\r\n    const handlePress =\r\n        groupContext && id !== undefined\r\n            ? () => groupContext.onAccordionPress(id)\r\n            : handlePressAction;\r\n\r\n    const ChevronIcon = isExpanded ? ChevronUpIcon : ChevronDownIcon;\r\n\r\n    return (\r\n        <View>\r\n            <TouchableRipple\r\n                style={[styles.container, style]}\r\n                onPress={handlePress}\r\n                onLongPress={onLongPress}\r\n                // accessibilityTraits=\"button\"\r\n                // accessibilityComponentType=\"button\"\r\n                accessibilityRole=\"button\"\r\n                testID={testID}\r\n            >\r\n                <View style={styles.row} pointerEvents=\"none\">\r\n                    {left\r\n                        ? left({\r\n                            color: isExpanded ? theme.colors.primary : descriptionColor,\r\n                        })\r\n                        : null}\r\n                    <View style={[styles.item, styles.content]}>\r\n                        <Text\r\n                            selectable={false}\r\n                            numberOfLines={titleNumberOfLines}\r\n                            style={[\r\n                                styles.title,\r\n                                {\r\n                                    color: isExpanded ? theme.colors.primary : titleColor,\r\n                                },\r\n                                titleStyle,\r\n                            ]}\r\n                        >\r\n                            {title}\r\n                        </Text>\r\n                        {description && (\r\n                            <Text\r\n                                selectable={false}\r\n                                numberOfLines={descriptionNumberOfLines}\r\n                                style={[\r\n                                    styles.description,\r\n                                    {\r\n                                        color: descriptionColor,\r\n                                    },\r\n                                    descriptionStyle,\r\n                                ]}\r\n                            >\r\n                                {description}\r\n                            </Text>\r\n                        )}\r\n                    </View>\r\n                    <View\r\n                        style={[styles.item, description ? styles.multiline : undefined]}\r\n                    >\r\n                        <ChevronIcon\r\n                            color={titleColor}\r\n                            size={24}\r\n                            direction={I18nManager.isRTL ? \"rtl\" : \"ltr\"}\r\n                        />\r\n                    </View>\r\n                </View>\r\n            </TouchableRipple>\r\n            {isExpanded\r\n                ? React.Children.map(children, (child) => {\r\n                    if (\r\n                        left &&\r\n                        React.isValidElement(child) &&\r\n                        !child.props.left &&\r\n                        !child.props.right\r\n                    ) {\r\n                        return React.cloneElement(child, {\r\n                            style: [styles.child, child.props.style],\r\n                        });\r\n                    }\r\n\r\n                    return child;\r\n                })\r\n                : null}\r\n        </View>\r\n    );\r\n};\r\n\r\nListAccordion.displayName = \"List.Accordion\";\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        padding: 8,\r\n    },\r\n    row: {\r\n        flexDirection: \"row\",\r\n        alignItems: \"center\",\r\n    },\r\n    multiline: {\r\n        height: 40,\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n    title: {\r\n        fontSize: 16,\r\n    },\r\n    description: {\r\n        fontSize: 14,\r\n    },\r\n    item: {\r\n        margin: 8,\r\n    },\r\n    child: {\r\n        paddingLeft: 64,\r\n    },\r\n    content: {\r\n        flex: 1,\r\n        justifyContent: \"center\",\r\n    },\r\n});\r\n\r\nexport default ListAccordion;\r\n"]}