{"version":3,"sources":["TextInputFlat.tsx"],"names":["MINIMIZED_LABEL_Y_OFFSET","LABEL_PADDING_TOP","LABEL_PADDING_TOP_DENSE","MIN_HEIGHT","MIN_DENSE_HEIGHT_WL","MIN_DENSE_HEIGHT","TextInputFlat","React","Component","render","disabled","editable","label","error","selectionColor","underlineColor","dense","style","multiline","parentState","innerRef","onFocus","forceFocus","onBlur","onChangeText","onLayoutAnimatedText","onLeftAffixLayoutChange","onRightAffixLayoutChange","left","right","placeholderTextColor","rest","props","theme","context","colors","fonts","font","regular","hasActiveOutline","focused","fontSize","fontSizeStyle","fontWeight","height","paddingHorizontal","textAlign","viewStyle","StyleSheet","flatten","MAXIMIZED_LABEL_FONT_SIZE","isPaddingHorizontalPassed","undefined","adornmentConfig","paddingLeft","paddingRight","leftLayout","rightLayout","rightAffixWidth","width","ADORNMENT_SIZE","leftAffixWidth","adornmentStyleAdjustmentForNativeInput","inputOffset","FLAT_INPUT_OFFSET","mode","InputMode","Flat","inputTextColor","activeColor","underlineColorCustom","placeholderColor","errorColor","text","alpha","rgb","string","primary","placeholder","containerStyle","backgroundColor","dark","background","lighten","darken","borderTopLeftRadius","roundness","borderTopRightRadius","labelScale","MINIMIZED_LABEL_FONT_SIZE","fontScale","labelWidth","labelLayout","labelHeight","labelHalfWidth","labelHalfHeight","baseLabelTranslateX","I18nManager","isRTL","minInputHeight","inputHeight","topPosition","console","warn","paddingSettings","offset","scale","isAndroid","Platform","OS","styles","inputFlatDense","inputFlat","pad","paddingFlat","baseLabelTranslateY","placeholderOpacity","labeled","measured","minHeight","flatHeight","iconTopPosition","leftAffixTopPosition","affixHeight","rightAffixTopPosition","labelProps","placeholderStyle","wiggleOffsetX","LABEL_WIGGLE_X_OFFSET","paddingOffset","affixTopPosition","AdornmentSide","Left","Right","onAffixChange","adornmentProps","AdornmentType","Affix","Icon","isTextInputFocused","length","textStyle","visible","paddingTop","paddingBottom","ref","underlineColorAndroid","input","color","textAlignVertical","ThemeContext","Underline","underline","transform","scaleY","create","position","bottom","flexGrow","margin","zIndex"],"mappings":";;;;;;;AAAA;;AACA;;AASA;;AACA;;AACA;;AAKA;;AAQA;;AAcA;;AACA;;;;;;;;;;AAEA,MAAMA,wBAAwB,GAAG,CAAC,EAAlC;AAEA,MAAMC,iBAAiB,GAAG,EAA1B;AACA,MAAMC,uBAAuB,GAAG,EAAhC;AACA,MAAMC,UAAU,GAAG,EAAnB;AACA,MAAMC,mBAAmB,GAAG,EAA5B;AACA,MAAMC,gBAAgB,GAAG,EAAzB;;AAEA,MAAMC,aAAN,SAA4BC,KAAK,CAACC,SAAlC,CAAiE;AAW7DC,EAAAA,MAAM,GAAG;AACL,UAAM;AACFC,MAAAA,QADE;AAEFC,MAAAA,QAFE;AAGFC,MAAAA,KAHE;AAIFC,MAAAA,KAJE;AAKFC,MAAAA,cALE;AAMFC,MAAAA,cANE;AAOFC,MAAAA,KAPE;AAQFC,MAAAA,KARE;AASFR,MAAAA,MATE;AAUFS,MAAAA,SAVE;AAWFC,MAAAA,WAXE;AAYFC,MAAAA,QAZE;AAaFC,MAAAA,OAbE;AAcFC,MAAAA,UAdE;AAeFC,MAAAA,MAfE;AAgBFC,MAAAA,YAhBE;AAiBFC,MAAAA,oBAjBE;AAkBFC,MAAAA,uBAlBE;AAmBFC,MAAAA,wBAnBE;AAoBFC,MAAAA,IApBE;AAqBFC,MAAAA,KArBE;AAsBFC,MAAAA,oBAtBE;AAuBF,SAAGC;AAvBD,QAwBF,KAAKC,KAxBT;AAyBA,UAAMC,KAAK,GAAG,KAAKC,OAAnB;AAEA,UAAM;AAAEC,MAAAA,MAAF;AAAUC,MAAAA;AAAV,QAAoBH,KAA1B;AACA,UAAMI,IAAI,GAAGD,KAAK,CAACE,OAAnB;AACA,UAAMC,gBAAgB,GAAGpB,WAAW,CAACqB,OAAZ,IAAuB3B,KAAhD;AAEA,UAAM;AACF4B,MAAAA,QAAQ,EAAEC,aADR;AAEFC,MAAAA,UAFE;AAGFC,MAAAA,MAHE;AAIFC,MAAAA,iBAJE;AAKFC,MAAAA,SALE;AAMF,SAAGC;AAND,QAODC,wBAAWC,OAAX,CAAmBhC,KAAnB,KAA6B,EAPlC;AAQA,UAAMwB,QAAQ,GAAGC,aAAa,IAAIQ,oCAAlC;AAEA,UAAMC,yBAAyB,GAC3BN,iBAAiB,KAAKO,SAAtB,IAAmC,OAAOP,iBAAP,KAA6B,QADpE;AAGA,UAAMQ,eAAe,GAAG,4CAAmB;AACvCzB,MAAAA,IADuC;AAEvCC,MAAAA;AAFuC,KAAnB,CAAxB;AAKA,QAAI;AAAEyB,MAAAA,WAAF;AAAeC,MAAAA;AAAf,QAAgC,kDAAoC;AACpEF,MAAAA;AADoE,KAApC,CAApC;;AAIA,QAAIF,yBAAJ,EAA+B;AAC3BG,MAAAA,WAAW,GAAGT,iBAAd;AACAU,MAAAA,YAAY,GAAGV,iBAAf;AACH;;AAED,UAAM;AAAEW,MAAAA,UAAF;AAAcC,MAAAA;AAAd,QAA8BtC,WAApC;AAEA,UAAMuC,eAAe,GAAG7B,KAAK,GACvB4B,WAAW,CAACE,KAAZ,IAAqBC,yBADE,GAEvBA,yBAFN;AAIA,UAAMC,cAAc,GAAGjC,IAAI,GACrB4B,UAAU,CAACG,KAAX,IAAoBC,yBADC,GAErBA,yBAFN;AAIA,UAAME,sCAAsC,GAAG,mEAC3C;AACIT,MAAAA,eADJ;AAEIK,MAAAA,eAFJ;AAGIG,MAAAA,cAHJ;AAIIhB,MAAAA,iBAJJ;AAKIkB,MAAAA,WAAW,EAAEC,4BALjB;AAMIC,MAAAA,IAAI,EAAEC,iBAAUC;AANpB,KAD2C,CAA/C;AAWA,QAAIC,cAAJ,EACIC,WADJ,EAEIC,oBAFJ,EAGIC,gBAHJ,EAIIC,UAJJ;;AAMA,QAAI9D,QAAJ,EAAc;AACV0D,MAAAA,cAAc,GAAGC,WAAW,GAAG,oBAAMlC,MAAM,CAACsC,IAAb,EAC1BC,KAD0B,CACpB,IADoB,EAE1BC,GAF0B,GAG1BC,MAH0B,EAA/B;AAIAL,MAAAA,gBAAgB,GAAGpC,MAAM,CAACzB,QAA1B;AACA4D,MAAAA,oBAAoB,GAAG,aAAvB;AACH,KAPD,MAOO;AACHF,MAAAA,cAAc,GAAGjC,MAAM,CAACsC,IAAxB;AACAJ,MAAAA,WAAW,GAAGxD,KAAK,GAAGsB,MAAM,CAACtB,KAAV,GAAkBsB,MAAM,CAAC0C,OAA5C;AACAN,MAAAA,gBAAgB,GAAGpC,MAAM,CAAC2C,WAA1B;AACAN,MAAAA,UAAU,GAAGrC,MAAM,CAACtB,KAApB;AACAyD,MAAAA,oBAAoB,GAAGvD,cAAc,IAAIoB,MAAM,CAACzB,QAAhD;AACH;;AAED,UAAMqE,cAAc,GAAG;AACnBC,MAAAA,eAAe,EAAE/C,KAAK,CAACgD,IAAN,GACX,oBAAM9C,MAAM,CAAC+C,UAAb,EAAyBC,OAAzB,CAAiC,IAAjC,EAAuCR,GAAvC,GAA6CC,MAA7C,EADW,GAEX,oBAAMzC,MAAM,CAAC+C,UAAb,EAAyBE,MAAzB,CAAgC,IAAhC,EAAsCT,GAAtC,GAA4CC,MAA5C,EAHa;AAInBS,MAAAA,mBAAmB,EAAEpD,KAAK,CAACqD,SAJR;AAKnBC,MAAAA,oBAAoB,EAAEtD,KAAK,CAACqD;AALT,KAAvB;AAQA,UAAME,UAAU,GAAGC,uCAA4BhD,QAA/C;AACA,UAAMiD,SAAS,GAAGxC,uCAA4BT,QAA9C;AAEA,UAAMkD,UAAU,GAAGxE,WAAW,CAACyE,WAAZ,CAAwBjC,KAA3C;AACA,UAAMkC,WAAW,GAAG1E,WAAW,CAACyE,WAAZ,CAAwBhD,MAA5C;AACA,UAAMkD,cAAc,GAAGH,UAAU,GAAG,CAApC;AACA,UAAMI,eAAe,GAAGF,WAAW,GAAG,CAAtC;AAEA,UAAMG,mBAAmB,GACrB,CAACC,yBAAYC,KAAZ,GAAoB,CAApB,GAAwB,CAAC,CAA1B,KACCJ,cAAc,GAAIN,UAAU,GAAGG,UAAd,GAA4B,CAD9C,IAEA,CAAC,IAAIH,UAAL,KAAoBS,yBAAYC,KAAZ,GAAoB,CAAC,CAArB,GAAyB,CAA7C,IAAkD5C,WAHtD;AAKA,UAAM6C,cAAc,GAAGnF,KAAK,GACtB,CAACJ,KAAK,GAAGR,mBAAH,GAAyBC,gBAA/B,IACFH,uBAFwB,GAGtBC,UAAU,GAAGF,iBAHnB;AAKA,UAAMmG,WAAW,GAAG,mCAChBP,WADgB,EAEhBjD,MAFgB,EAGhBuD,cAHgB,CAApB;AAMA,UAAME,WAAW,GAAG,wCAChBR,WADgB,EAEhBO,WAFgB,EAGhBlF,SAAS,IAAI0B,MAAb,GAAsB,CAAtB,GAA0B,CAACA,MAAD,GAAUuD,cAAc,GAAG,CAA3B,GAA+B,CAHzC,CAApB;;AAMA,QAAIvD,MAAM,IAAI,OAAOA,MAAP,KAAkB,QAAhC,EAA0C;AACtC;AACA0D,MAAAA,OAAO,CAACC,IAAR,CAAa,kDAAb;AACH;;AAED,UAAMC,eAAe,GAAG;AACpB5D,MAAAA,MAAM,EAAEA,MAAM,GAAG,CAACA,MAAJ,GAAa,IADP;AAEpBmD,MAAAA,eAFoB;AAGpBU,MAAAA,MAAM,EAAEzC,4BAHY;AAIpB9C,MAAAA,SAAS,EAAEA,SAAS,GAAGA,SAAH,GAAe,IAJf;AAKpBF,MAAAA,KAAK,EAAEA,KAAK,GAAGA,KAAH,GAAW,IALH;AAMpBqF,MAAAA,WANoB;AAOpB5D,MAAAA,QAPoB;AAQpB7B,MAAAA,KARoB;AASpB8F,MAAAA,KAAK,EAAEhB,SATa;AAUpBiB,MAAAA,SAAS,EAAEC,sBAASC,EAAT,KAAgB,SAVP;AAWpBC,MAAAA,MAAM,EAAE9D,wBAAWC,OAAX,CACJjC,KAAK,GAAG8F,MAAM,CAACC,cAAV,GAA2BD,MAAM,CAACE,SADnC;AAXY,KAAxB;AAgBA,UAAMC,GAAG,GAAG,+BAAiBT,eAAjB,CAAZ;AAEA,UAAMU,WAAW,GAAG,gCAAkB,EAClC,GAAGV,eAD+B;AAElCS,MAAAA;AAFkC,KAAlB,CAApB;AAKA,UAAME,mBAAmB,GACrB,CAACpB,eAAD,IAAoBM,WAAW,GAAGrG,wBAAlC,CADJ;AAGA,UAAMoH,kBAAkB,GAAG7E,gBAAgB,GACrC,qCAAuBpB,WAAW,CAACkG,OAAnC,EAA4C9E,gBAA5C,CADqC,GAErCpB,WAAW,CAACyE,WAAZ,CAAwB0B,QAAxB,GACI,CADJ,GAEI,CAJV;AAMA,UAAMC,SAAS,GACX3E,MAAM,KACL5B,KAAK,GAAIJ,KAAK,GAAGR,mBAAH,GAAyBC,gBAAlC,GAAsDF,UADtD,CADV;AAIA,UAAMqH,UAAU,GACZpB,WAAW,IACV,CAACxD,MAAD,GAAW5B,KAAK,GAAGd,uBAAH,GAA6BD,iBAA7C,GAAkE,CADxD,CADf;AAIA,UAAMwH,eAAe,GAAG,CAACD,UAAU,GAAG5D,yBAAd,IAAgC,CAAxD;AAEA,UAAM8D,oBAAoB,GAAGlE,UAAU,CAACZ,MAAX,GACvB,4CAA8B;AAC5BA,MAAAA,MAAM,EAAE4E,UADoB;AAE5B,SAAGN,WAFyB;AAG5BS,MAAAA,WAAW,EAAEnE,UAAU,CAACZ;AAHI,KAA9B,CADuB,GAMvB,IANN;AAQA,UAAMgF,qBAAqB,GAAGnE,WAAW,CAACb,MAAZ,GACxB,4CAA8B;AAC5BA,MAAAA,MAAM,EAAE4E,UADoB;AAE5B,SAAGN,WAFyB;AAG5BS,MAAAA,WAAW,EAAElE,WAAW,CAACb;AAHG,KAA9B,CADwB,GAMxB,IANN;AAQA,UAAMiF,UAAU,GAAG;AACfjH,MAAAA,KADe;AAEfa,MAAAA,oBAFe;AAGf2F,MAAAA,kBAHe;AAIfvG,MAAAA,KAJe;AAKfiH,MAAAA,gBAAgB,EAAEhB,MAAM,CAAChC,WALV;AAMfqC,MAAAA,mBANe;AAOfnB,MAAAA,mBAPe;AAQf3D,MAAAA,IARe;AASfI,MAAAA,QATe;AAUfE,MAAAA,UAVe;AAWf6C,MAAAA,UAXe;AAYfuC,MAAAA,aAAa,EAAEC,gCAZA;AAaf3B,MAAAA,WAbe;AAcf4B,MAAAA,aAAa,EAAE;AAAE3E,QAAAA,WAAF;AAAeC,QAAAA;AAAf,OAdA;AAefhB,MAAAA,gBAfe;AAgBf8B,MAAAA,WAhBe;AAiBfE,MAAAA,gBAjBe;AAkBfC,MAAAA;AAlBe,KAAnB;AAoBA,UAAM0D,gBAAgB,GAAG;AACrB,OAACC,qBAAcC,IAAf,GAAsBV,oBADD;AAErB,OAACS,qBAAcE,KAAf,GAAuBT;AAFF,KAAzB;AAIA,UAAMU,aAAa,GAAG;AAClB,OAACH,qBAAcC,IAAf,GAAsB1G,uBADJ;AAElB,OAACyG,qBAAcE,KAAf,GAAuB1G;AAFL,KAAtB;AAKA,QAAI4G,cAAuC,GAAG;AAC1C1F,MAAAA,iBAD0C;AAE1CQ,MAAAA,eAF0C;AAG1C/B,MAAAA,UAH0C;AAI1C+E,MAAAA,WAAW,EAAE;AACT,SAACmC,qBAAcC,KAAf,GAAuBP,gBADd;AAET,SAACM,qBAAcE,IAAf,GAAsBjB;AAFb,OAJ6B;AAQ1Ca,MAAAA,aAR0C;AAS1CK,MAAAA,kBAAkB,EAAE,KAAK3G,KAAL,CAAWb,WAAX,CAAuBqB;AATD,KAA9C;;AAWA,QAAIa,eAAe,CAACuF,MAApB,EAA4B;AACxBL,MAAAA,cAAc,GAAG,EACb,GAAGA,cADU;AAEb3G,QAAAA,IAFa;AAGbC,QAAAA,KAHa;AAIbgH,QAAAA,SAAS,EAAE,EAAE,GAAGxG,IAAL;AAAWI,UAAAA,QAAX;AAAqBE,UAAAA;AAArB,SAJE;AAKbmG,QAAAA,OAAO,EAAE,KAAK9G,KAAL,CAAWb,WAAX,CAAuBkG;AALnB,OAAjB;AAOH;;AAED,wBACI,oBAAC,iBAAD;AAAM,MAAA,KAAK,EAAE,CAACtC,cAAD,EAAiBhC,SAAjB;AAAb,oBACI,oBAAC,SAAD;AACI,MAAA,WAAW,EAAE5B,WADjB;AAEI,MAAA,oBAAoB,EAAEmD,oBAF1B;AAGI,MAAA,KAAK,EAAEzD,KAHX;AAII,MAAA,MAAM,EAAEsB,MAJZ;AAKI,MAAA,WAAW,EAAEkC;AALjB,MADJ,eAQI,oBAAC,iBAAD;AACI,MAAA,KAAK,EAAE;AACH0E,QAAAA,UAAU,EAAE,CADT;AAEHC,QAAAA,aAAa,EAAE,CAFZ;AAGHzB,QAAAA;AAHG;AADX,oBAOI,oBAAC,mBAAD;AAAY,MAAA,WAAW,EAAEpG,WAAzB;AAAsC,MAAA,UAAU,EAAE0G;AAAlD,MAPJ,EAQKpH,MARL,aAQKA,MARL,uBAQKA,MAAM,CAAG,EACN,GAAGsB,IADG;AAENkH,MAAAA,GAAG,EAAE7H,QAFC;AAGNI,MAAAA,YAHM;AAIN;AACAsD,MAAAA,WAAW,EAAElE,KAAK,GACZO,WAAW,CAAC2D,WADA,GAEZ,KAAK9C,KAAL,CAAW8C,WAPX;AAQNhD,MAAAA,oBAAoB,EAAEA,oBAAoB,IAAIyC,gBARxC;AASN5D,MAAAA,QAAQ,EAAE,CAACD,QAAD,IAAaC,QATjB;AAUNG,MAAAA,cAAc,EACV,OAAOA,cAAP,KAA0B,WAA1B,GACMuD,WADN,GAEMvD,cAbJ;AAcNO,MAAAA,OAdM;AAeNE,MAAAA,MAfM;AAgBN2H,MAAAA,qBAAqB,EAAE,aAhBjB;AAiBNhI,MAAAA,SAjBM;AAkBND,MAAAA,KAAK,EAAE,CACH6F,MAAM,CAACqC,KADJ,EAEH;AAAE7F,QAAAA,WAAF;AAAeC,QAAAA;AAAf,OAFG,EAGH,CAACrC,SAAD,IAAeA,SAAS,IAAI0B,MAA5B,GAAsC;AAAEA,QAAAA,MAAM,EAAE4E;AAAV,OAAtC,GAA+D,EAH5D,EAIHN,WAJG,EAKH,EACI,GAAG7E,IADP;AAEII,QAAAA,QAFJ;AAGIE,QAAAA,UAHJ;AAIIyG,QAAAA,KAAK,EAAEhF,cAJX;AAKIiF,QAAAA,iBAAiB,EAAEnI,SAAS,GAAG,KAAH,GAAW,QAL3C;AAMI4B,QAAAA,SAAS,EAAEA,SAAS,GACdA,SADc,GAEdmD,yBAAYC,KAAZ,GACI,OADJ,GAEI;AAVd,OALG,EAiBHpC,sCAjBG;AAlBD,KAAH,CARX,CARJ,eAuDI,oBAAC,2BAAD,EAAwByE,cAAxB,CAvDJ,CADJ;AA2DH;;AAlU4D;;gBAA3DjI,a,iBAEmBgJ,8B;;gBAFnBhJ,a,kBAGoB;AAClBI,EAAAA,QAAQ,EAAE,KADQ;AAElBG,EAAAA,KAAK,EAAE,KAFW;AAGlBK,EAAAA,SAAS,EAAE,KAHO;AAIlBP,EAAAA,QAAQ,EAAE,IAJQ;AAKlBF,EAAAA,MAAM,EAAGuB,KAAD,iBAAwB,oBAAC,sBAAD,EAAqBA,KAArB;AALd,C;;eAkUX1B,a;;;AAcf,MAAMiJ,SAAS,GAAG,CAAC;AACfpI,EAAAA,WADe;AAEfN,EAAAA,KAFe;AAGfsB,EAAAA,MAHe;AAIfkC,EAAAA,WAJe;AAKfC,EAAAA;AALe,CAAD,KAMI;AAClB,MAAIU,eAAe,GAAG7D,WAAW,CAACqB,OAAZ,GAChB6B,WADgB,GAEhBC,oBAFN;AAGA,MAAIzD,KAAJ,EAAWmE,eAAe,GAAG7C,MAAM,CAACtB,KAAzB;AACX,sBACI,oBAAC,qBAAD,CAAU,IAAV;AACI,IAAA,KAAK,EAAE,CACHiG,MAAM,CAAC0C,SADJ,EAEH;AACIxE,MAAAA,eADJ;AAEI;AACAyE,MAAAA,SAAS,EAAE,CAAC;AAAEC,QAAAA,MAAM,EAAEvI,WAAW,CAACqB,OAAZ,GAAsB,CAAtB,GAA0B;AAApC,OAAD;AAHf,KAFG;AADX,IADJ;AAYH,CAvBD;;AAyBA,MAAMsE,MAAM,GAAG9D,wBAAW2G,MAAX,CAAkB;AAC7B7E,EAAAA,WAAW,EAAE;AACT8E,IAAAA,QAAQ,EAAE,UADD;AAEThI,IAAAA,IAAI,EAAE;AAFG,GADgB;AAK7B4H,EAAAA,SAAS,EAAE;AACPI,IAAAA,QAAQ,EAAE,UADH;AAEPhI,IAAAA,IAAI,EAAE,CAFC;AAGPC,IAAAA,KAAK,EAAE,CAHA;AAIPgI,IAAAA,MAAM,EAAE,CAJD;AAKPjH,IAAAA,MAAM,EAAE;AALD,GALkB;AAY7BuG,EAAAA,KAAK,EAAE;AACHW,IAAAA,QAAQ,EAAE,CADP;AAEHC,IAAAA,MAAM,EAAE,CAFL;AAGHC,IAAAA,MAAM,EAAE;AAHL,GAZsB;AAiB7BhD,EAAAA,SAAS,EAAE;AACP+B,IAAAA,UAAU,EAAE,EADL;AAEPC,IAAAA,aAAa,EAAE;AAFR,GAjBkB;AAqB7BjC,EAAAA,cAAc,EAAE;AACZgC,IAAAA,UAAU,EAAE,EADA;AAEZC,IAAAA,aAAa,EAAE;AAFH;AArBa,CAAlB,CAAf","sourcesContent":["import * as React from \"react\";\r\nimport {\r\n    View,\r\n    Animated,\r\n    TextInput as NativeTextInput,\r\n    StyleSheet,\r\n    I18nManager,\r\n    Platform,\r\n    TextStyle,\r\n} from \"react-native\";\r\nimport color from \"color\";\r\nimport InputLabel from \"./Label/InputLabel\";\r\nimport TextInputAdornment, {\r\n    TextInputAdornmentProps,\r\n} from \"./Adornment/TextInputAdornment\";\r\nimport type { RenderProps, ChildTextInputProps } from \"./types\";\r\n\r\nimport {\r\n    MAXIMIZED_LABEL_FONT_SIZE,\r\n    MINIMIZED_LABEL_FONT_SIZE,\r\n    LABEL_WIGGLE_X_OFFSET,\r\n    ADORNMENT_SIZE,\r\n    FLAT_INPUT_OFFSET,\r\n} from \"./constants\";\r\n\r\nimport {\r\n    calculateLabelTopPosition,\r\n    calculateInputHeight,\r\n    calculatePadding,\r\n    adjustPaddingFlat,\r\n    Padding,\r\n    interpolatePlaceholder,\r\n    calculateFlatAffixTopPosition,\r\n    calculateFlatInputHorizontalPadding,\r\n} from \"./helpers\";\r\nimport {\r\n    getAdornmentConfig,\r\n    getAdornmentStyleAdjustmentForNativeInput,\r\n} from \"./Adornment/TextInputAdornment\";\r\nimport { AdornmentSide, AdornmentType, InputMode } from \"./Adornment/enums\";\r\nimport { ThemeContext } from \"styled-components\";\r\n\r\nconst MINIMIZED_LABEL_Y_OFFSET = -18;\r\n\r\nconst LABEL_PADDING_TOP = 30;\r\nconst LABEL_PADDING_TOP_DENSE = 24;\r\nconst MIN_HEIGHT = 64;\r\nconst MIN_DENSE_HEIGHT_WL = 52;\r\nconst MIN_DENSE_HEIGHT = 40;\r\n\r\nclass TextInputFlat extends React.Component<ChildTextInputProps> {\r\n\r\n    static contextType = ThemeContext as any;\r\n    static defaultProps = {\r\n        disabled: false,\r\n        error: false,\r\n        multiline: false,\r\n        editable: true,\r\n        render: (props: RenderProps) => <NativeTextInput {...props} />,\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            disabled,\r\n            editable,\r\n            label,\r\n            error,\r\n            selectionColor,\r\n            underlineColor,\r\n            dense,\r\n            style,\r\n            render,\r\n            multiline,\r\n            parentState,\r\n            innerRef,\r\n            onFocus,\r\n            forceFocus,\r\n            onBlur,\r\n            onChangeText,\r\n            onLayoutAnimatedText,\r\n            onLeftAffixLayoutChange,\r\n            onRightAffixLayoutChange,\r\n            left,\r\n            right,\r\n            placeholderTextColor,\r\n            ...rest\r\n        } = this.props;\r\n        const theme = this.context;\r\n\r\n        const { colors, fonts } = theme;\r\n        const font = fonts.regular;\r\n        const hasActiveOutline = parentState.focused || error;\r\n\r\n        const {\r\n            fontSize: fontSizeStyle,\r\n            fontWeight,\r\n            height,\r\n            paddingHorizontal,\r\n            textAlign,\r\n            ...viewStyle\r\n        } = (StyleSheet.flatten(style) || {}) as TextStyle;\r\n        const fontSize = fontSizeStyle || MAXIMIZED_LABEL_FONT_SIZE;\r\n\r\n        const isPaddingHorizontalPassed =\r\n            paddingHorizontal !== undefined && typeof paddingHorizontal === \"number\";\r\n\r\n        const adornmentConfig = getAdornmentConfig({\r\n            left,\r\n            right,\r\n        });\r\n\r\n        let { paddingLeft, paddingRight } = calculateFlatInputHorizontalPadding({\r\n            adornmentConfig,\r\n        });\r\n\r\n        if (isPaddingHorizontalPassed) {\r\n            paddingLeft = paddingHorizontal as number;\r\n            paddingRight = paddingHorizontal as number;\r\n        }\r\n\r\n        const { leftLayout, rightLayout } = parentState;\r\n\r\n        const rightAffixWidth = right\r\n            ? rightLayout.width || ADORNMENT_SIZE\r\n            : ADORNMENT_SIZE;\r\n\r\n        const leftAffixWidth = left\r\n            ? leftLayout.width || ADORNMENT_SIZE\r\n            : ADORNMENT_SIZE;\r\n\r\n        const adornmentStyleAdjustmentForNativeInput = getAdornmentStyleAdjustmentForNativeInput(\r\n            {\r\n                adornmentConfig,\r\n                rightAffixWidth,\r\n                leftAffixWidth,\r\n                paddingHorizontal,\r\n                inputOffset: FLAT_INPUT_OFFSET,\r\n                mode: InputMode.Flat,\r\n            }\r\n        );\r\n\r\n        let inputTextColor,\r\n            activeColor,\r\n            underlineColorCustom,\r\n            placeholderColor,\r\n            errorColor;\r\n\r\n        if (disabled) {\r\n            inputTextColor = activeColor = color(colors.text)\r\n                .alpha(0.54)\r\n                .rgb()\r\n                .string();\r\n            placeholderColor = colors.disabled;\r\n            underlineColorCustom = \"transparent\";\r\n        } else {\r\n            inputTextColor = colors.text;\r\n            activeColor = error ? colors.error : colors.primary;\r\n            placeholderColor = colors.placeholder;\r\n            errorColor = colors.error;\r\n            underlineColorCustom = underlineColor || colors.disabled;\r\n        }\r\n\r\n        const containerStyle = {\r\n            backgroundColor: theme.dark\r\n                ? color(colors.background).lighten(0.24).rgb().string()\r\n                : color(colors.background).darken(0.06).rgb().string(),\r\n            borderTopLeftRadius: theme.roundness,\r\n            borderTopRightRadius: theme.roundness,\r\n        };\r\n\r\n        const labelScale = MINIMIZED_LABEL_FONT_SIZE / fontSize;\r\n        const fontScale = MAXIMIZED_LABEL_FONT_SIZE / fontSize;\r\n\r\n        const labelWidth = parentState.labelLayout.width;\r\n        const labelHeight = parentState.labelLayout.height;\r\n        const labelHalfWidth = labelWidth / 2;\r\n        const labelHalfHeight = labelHeight / 2;\r\n\r\n        const baseLabelTranslateX =\r\n            (I18nManager.isRTL ? 1 : -1) *\r\n            (labelHalfWidth - (labelScale * labelWidth) / 2) +\r\n            (1 - labelScale) * (I18nManager.isRTL ? -1 : 1) * paddingLeft;\r\n\r\n        const minInputHeight = dense\r\n            ? (label ? MIN_DENSE_HEIGHT_WL : MIN_DENSE_HEIGHT) -\r\n            LABEL_PADDING_TOP_DENSE\r\n            : MIN_HEIGHT - LABEL_PADDING_TOP;\r\n\r\n        const inputHeight = calculateInputHeight(\r\n            labelHeight,\r\n            height,\r\n            minInputHeight\r\n        );\r\n\r\n        const topPosition = calculateLabelTopPosition(\r\n            labelHeight,\r\n            inputHeight,\r\n            multiline && height ? 0 : !height ? minInputHeight / 2 : 0\r\n        );\r\n\r\n        if (height && typeof height !== \"number\") {\r\n            // eslint-disable-next-line\r\n            console.warn('Currently we support only numbers in height prop');\r\n        }\r\n\r\n        const paddingSettings = {\r\n            height: height ? +height : null,\r\n            labelHalfHeight,\r\n            offset: FLAT_INPUT_OFFSET,\r\n            multiline: multiline ? multiline : null,\r\n            dense: dense ? dense : null,\r\n            topPosition,\r\n            fontSize,\r\n            label,\r\n            scale: fontScale,\r\n            isAndroid: Platform.OS === \"android\",\r\n            styles: StyleSheet.flatten(\r\n                dense ? styles.inputFlatDense : styles.inputFlat\r\n            ) as Padding,\r\n        };\r\n\r\n        const pad = calculatePadding(paddingSettings);\r\n\r\n        const paddingFlat = adjustPaddingFlat({\r\n            ...paddingSettings,\r\n            pad,\r\n        });\r\n\r\n        const baseLabelTranslateY =\r\n            -labelHalfHeight - (topPosition + MINIMIZED_LABEL_Y_OFFSET);\r\n\r\n        const placeholderOpacity = hasActiveOutline\r\n            ? interpolatePlaceholder(parentState.labeled, hasActiveOutline)\r\n            : parentState.labelLayout.measured\r\n                ? 1\r\n                : 0;\r\n\r\n        const minHeight =\r\n            height ||\r\n            (dense ? (label ? MIN_DENSE_HEIGHT_WL : MIN_DENSE_HEIGHT) : MIN_HEIGHT);\r\n\r\n        const flatHeight =\r\n            inputHeight +\r\n            (!height ? (dense ? LABEL_PADDING_TOP_DENSE : LABEL_PADDING_TOP) : 0);\r\n\r\n        const iconTopPosition = (flatHeight - ADORNMENT_SIZE) / 2;\r\n\r\n        const leftAffixTopPosition = leftLayout.height\r\n            ? calculateFlatAffixTopPosition({\r\n                height: flatHeight,\r\n                ...paddingFlat,\r\n                affixHeight: leftLayout.height,\r\n            })\r\n            : null;\r\n\r\n        const rightAffixTopPosition = rightLayout.height\r\n            ? calculateFlatAffixTopPosition({\r\n                height: flatHeight,\r\n                ...paddingFlat,\r\n                affixHeight: rightLayout.height,\r\n            })\r\n            : null;\r\n\r\n        const labelProps = {\r\n            label,\r\n            onLayoutAnimatedText,\r\n            placeholderOpacity,\r\n            error,\r\n            placeholderStyle: styles.placeholder,\r\n            baseLabelTranslateY,\r\n            baseLabelTranslateX,\r\n            font,\r\n            fontSize,\r\n            fontWeight,\r\n            labelScale,\r\n            wiggleOffsetX: LABEL_WIGGLE_X_OFFSET,\r\n            topPosition,\r\n            paddingOffset: { paddingLeft, paddingRight },\r\n            hasActiveOutline,\r\n            activeColor,\r\n            placeholderColor,\r\n            errorColor,\r\n        };\r\n        const affixTopPosition = {\r\n            [AdornmentSide.Left]: leftAffixTopPosition,\r\n            [AdornmentSide.Right]: rightAffixTopPosition,\r\n        };\r\n        const onAffixChange = {\r\n            [AdornmentSide.Left]: onLeftAffixLayoutChange,\r\n            [AdornmentSide.Right]: onRightAffixLayoutChange,\r\n        };\r\n\r\n        let adornmentProps: TextInputAdornmentProps = {\r\n            paddingHorizontal,\r\n            adornmentConfig,\r\n            forceFocus,\r\n            topPosition: {\r\n                [AdornmentType.Affix]: affixTopPosition,\r\n                [AdornmentType.Icon]: iconTopPosition,\r\n            },\r\n            onAffixChange,\r\n            isTextInputFocused: this.props.parentState.focused,\r\n        };\r\n        if (adornmentConfig.length) {\r\n            adornmentProps = {\r\n                ...adornmentProps,\r\n                left,\r\n                right,\r\n                textStyle: { ...font, fontSize, fontWeight },\r\n                visible: this.props.parentState.labeled,\r\n            };\r\n        }\r\n\r\n        return (\r\n            <View style={[containerStyle, viewStyle]}>\r\n                <Underline\r\n                    parentState={parentState}\r\n                    underlineColorCustom={underlineColorCustom}\r\n                    error={error}\r\n                    colors={colors}\r\n                    activeColor={activeColor}\r\n                />\r\n                <View\r\n                    style={{\r\n                        paddingTop: 0,\r\n                        paddingBottom: 0,\r\n                        minHeight,\r\n                    }}\r\n                >\r\n                    <InputLabel parentState={parentState} labelProps={labelProps} />\r\n                    {render?.({\r\n                        ...rest,\r\n                        ref: innerRef,\r\n                        onChangeText,\r\n                        // @ts-ignore\r\n                        placeholder: label\r\n                            ? parentState.placeholder\r\n                            : this.props.placeholder,\r\n                        placeholderTextColor: placeholderTextColor || placeholderColor,\r\n                        editable: !disabled && editable,\r\n                        selectionColor:\r\n                            typeof selectionColor === \"undefined\"\r\n                                ? activeColor\r\n                                : selectionColor,\r\n                        onFocus,\r\n                        onBlur,\r\n                        underlineColorAndroid: \"transparent\",\r\n                        multiline,\r\n                        style: [\r\n                            styles.input,\r\n                            { paddingLeft, paddingRight },\r\n                            !multiline || (multiline && height) ? { height: flatHeight } : {},\r\n                            paddingFlat,\r\n                            {\r\n                                ...font,\r\n                                fontSize,\r\n                                fontWeight,\r\n                                color: inputTextColor,\r\n                                textAlignVertical: multiline ? \"top\" : \"center\",\r\n                                textAlign: textAlign\r\n                                    ? textAlign\r\n                                    : I18nManager.isRTL\r\n                                        ? \"right\"\r\n                                        : \"left\",\r\n                            },\r\n                            adornmentStyleAdjustmentForNativeInput,\r\n                        ],\r\n                    })}\r\n                </View>\r\n                <TextInputAdornment {...adornmentProps} />\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TextInputFlat;\r\n\r\ntype UnderlineProps = {\r\n    parentState: {\r\n        focused: boolean;\r\n    };\r\n    error?: boolean;\r\n    colors: {\r\n        error: string;\r\n    };\r\n    activeColor: string;\r\n    underlineColorCustom?: string;\r\n};\r\n\r\nconst Underline = ({\r\n    parentState,\r\n    error,\r\n    colors,\r\n    activeColor,\r\n    underlineColorCustom,\r\n}: UnderlineProps) => {\r\n    let backgroundColor = parentState.focused\r\n        ? activeColor\r\n        : underlineColorCustom;\r\n    if (error) backgroundColor = colors.error;\r\n    return (\r\n        <Animated.View\r\n            style={[\r\n                styles.underline,\r\n                {\r\n                    backgroundColor,\r\n                    // Underlines is thinner when input is not focused\r\n                    transform: [{ scaleY: parentState.focused ? 1 : 0.5 }],\r\n                },\r\n            ]}\r\n        />\r\n    );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n    placeholder: {\r\n        position: \"absolute\",\r\n        left: 0,\r\n    },\r\n    underline: {\r\n        position: \"absolute\",\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        height: 2,\r\n    },\r\n    input: {\r\n        flexGrow: 1,\r\n        margin: 0,\r\n        zIndex: 1,\r\n    },\r\n    inputFlat: {\r\n        paddingTop: 24,\r\n        paddingBottom: 4,\r\n    },\r\n    inputFlatDense: {\r\n        paddingTop: 22,\r\n        paddingBottom: 2,\r\n    },\r\n});\r\n"]}