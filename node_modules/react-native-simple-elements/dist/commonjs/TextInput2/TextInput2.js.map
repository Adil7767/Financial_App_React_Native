{"version":3,"sources":["TextInput2.tsx"],"names":["renderText","content","defaultProps","style","Text","StyleSheet","flatten","Input","React","Component","Animated","Value","shakeAnimationValue","setValue","timing","duration","toValue","easing","Easing","bounce","useNativeDriver","start","focus","input","blur","clear","isFocused","setNativeProps","nativeProps","render","containerStyle","disabled","disabledInputStyle","inputContainerStyle","leftIcon","leftIconContainerStyle","rightIcon","rightIconContainerStyle","InputComponent","TextInput","inputStyle","errorProps","errorStyle","errorMessage","label","labelStyle","labelProps","renderErrorMessage","attributes","props","translateX","interpolate","inputRange","outputRange","hideErrorMessage","styles","container","fontSize","color","context","colors","surface","Platform","select","android","fontFamily","fontWeight","default","flexDirection","borderBottomWidth","alignItems","borderColor","transform","iconContainer","SvgIcon","ref","black","flex","minHeight","disabledInput","margin","error","height","padding","ThemeContext","create","width","paddingHorizontal","opacity","justifyContent","paddingRight","marginVertical"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport {\n    Text,\n    View,\n    TextInput,\n    Animated,\n    Easing,\n    Platform,\n    StyleSheet,\n    ViewStyle,\n    StyleProp,\n    TextStyle,\n    TextInputProps,\n} from \"react-native\";\nimport { ThemeContext } from \"styled-components\";\nimport { renderNode } from \"../helpers\";\nimport { SvgIcon } from \"../Icon\";\n\nconst renderText = (content: any, defaultProps: any, style: StyleProp<any>) =>\n    renderNode(Text, content, {\n        ...defaultProps,\n        style: StyleSheet.flatten([style, defaultProps && defaultProps.style]),\n    });\n\nexport type InputProps = React.ComponentPropsWithRef<typeof TextInput> & {\n    containerStyle?: StyleProp<ViewStyle>;\n    disabled?: boolean;\n    disabledInputStyle?: StyleProp<TextStyle>;\n    inputContainerStyle?: StyleProp<ViewStyle>;\n    leftIcon?: React.ReactElement;\n    leftIconContainerStyle?: StyleProp<ViewStyle>;\n    rightIcon?: React.ReactElement;\n    rightIconContainerStyle?: StyleProp<ViewStyle>;\n    inputStyle?: StyleProp<TextStyle>;\n    InputComponent?: React.ComponentType | React.ForwardRefExoticComponent<any>;\n    errorProps?: Record<string, any>;\n    errorStyle?: StyleProp<TextStyle>;\n    errorMessage?: string;\n    label?: string | React.ReactNode;\n    labelStyle?: StyleProp<TextStyle>;\n    labelProps?: Record<string, any>;\n    renderErrorMessage?: boolean;\n};\n\nexport class Input extends React.Component<\n    InputProps\n> {\n    static displayName = \"Input\";\n    static contextType = ThemeContext as any;\n\n    input: any;\n    shakeAnimationValue = new Animated.Value(0);\n\n    focus(): void {\n        this.input.focus();\n    }\n\n    blur(): void {\n        this.input.blur();\n    }\n\n    clear(): void {\n        this.input.clear();\n    }\n\n    isFocused(): boolean {\n        return this.input.isFocused();\n    }\n\n    setNativeProps(nativeProps: Partial<TextInputProps>): void {\n        this.input.setNativeProps(nativeProps);\n    }\n\n    shake = () => {\n        const { shakeAnimationValue } = this;\n        shakeAnimationValue.setValue(0);\n        // Animation duration based on Material Design\n        // https://material.io/guidelines/motion/duration-easing.html#duration-easing-common-durations\n        Animated.timing(shakeAnimationValue, {\n            duration: 375,\n            toValue: 3,\n            easing: Easing.bounce,\n            useNativeDriver: true,\n        }).start();\n    };\n\n    render() {\n        const {\n            containerStyle,\n            disabled,\n            disabledInputStyle,\n            inputContainerStyle,\n            leftIcon,\n            leftIconContainerStyle,\n            rightIcon,\n            rightIconContainerStyle,\n            InputComponent = TextInput,\n            inputStyle,\n            errorProps,\n            errorStyle,\n            errorMessage,\n            label,\n            labelStyle,\n            labelProps,\n            renderErrorMessage = true,\n            style,\n            ...attributes\n        } = this.props;\n\n        const translateX = this.shakeAnimationValue.interpolate({\n            inputRange: [0, 0.5, 1, 1.5, 2, 2.5, 3],\n            outputRange: [0, -15, 0, 15, 0, -15, 0],\n        });\n\n        const hideErrorMessage = !renderErrorMessage && !errorMessage;\n\n        return (\n            <View\n                testID=\"input__view-wrapper\"\n                style={StyleSheet.flatten([styles.container, containerStyle])}\n            >\n                {renderText(\n                    label,\n                    { style: labelStyle, ...labelProps },\n                    {\n                        fontSize: 16,\n                        color: this.context.colors.surface,\n                        ...Platform.select({\n                            android: {\n                                fontFamily: \"sans-serif\",\n                                fontWeight: \"bold\",\n                                // ...fonts.android.bold,\n                            },\n                            default: {\n                                fontWeight: \"bold\",\n                            },\n                        }),\n                    }\n                )}\n\n                <Animated.View\n                    style={StyleSheet.flatten([\n                        {\n                            flexDirection: \"row\",\n                            borderBottomWidth: 1,\n                            alignItems: \"center\",\n                            borderColor: this.context.colors.surface,\n                        },\n                        inputContainerStyle,\n                        { transform: [{ translateX }] },\n                    ])}\n                >\n                    {leftIcon && (\n                        <View\n                            style={StyleSheet.flatten([\n                                styles.iconContainer,\n                                leftIconContainerStyle,\n                            ])}\n                        >\n                            {renderNode(SvgIcon, leftIcon)}\n                        </View>\n                    )}\n\n                    <InputComponent\n                        testID=\"input__text-input\"\n                        underlineColorAndroid=\"transparent\"\n                        editable={!disabled}\n                        ref={(ref: any) => {\n                            this.input = ref;\n                        }}\n                        style={StyleSheet.flatten([\n                            {\n                                color: this.context.colors?.black,\n                                fontSize: 18,\n                                flex: 1,\n                                minHeight: 40,\n                            },\n                            inputStyle,\n                            disabled && styles.disabledInput,\n                            disabled && disabledInputStyle,\n                            style,\n                        ])}\n                        placeholderTextColor={this.context.colors?.surface}\n                        {...attributes}\n                    />\n\n                    {rightIcon && (\n                        <View\n                            style={StyleSheet.flatten([\n                                styles.iconContainer,\n                                rightIconContainerStyle,\n                            ])}\n                        >\n                            {renderNode(SvgIcon, rightIcon)}\n                        </View>\n                    )}\n                </Animated.View>\n\n                <Text\n                    {...errorProps}\n                    style={StyleSheet.flatten([\n                        {\n                            margin: 5,\n                            fontSize: 12,\n                            color: this.context.colors.error,\n                        },\n                        errorStyle && errorStyle,\n                        hideErrorMessage && {\n                            height: 0,\n                            margin: 0,\n                            padding: 0,\n                        },\n                    ])}\n                >\n                    {errorMessage}\n                </Text>\n            </View>\n        );\n    }\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        width: \"100%\",\n        paddingHorizontal: 10,\n    },\n    disabledInput: {\n        opacity: 0.5,\n    },\n    iconContainer: {\n        height: 40,\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        paddingRight: 4,\n        marginVertical: 4,\n    },\n});\n"]}