{"version":3,"sources":["RadioButtonAndroid.tsx"],"names":["BORDER_WIDTH","RadioButtonAndroid","disabled","onPress","value","status","testID","rest","theme","React","useContext","ThemeContext","current","borderAnim","useRef","Animated","Value","radioAnim","isFirstRendering","scale","animation","useEffect","setValue","timing","toValue","duration","useNativeDriver","start","checkedColor","color","colors","accent","uncheckedColor","text","alpha","dark","rgb","string","rippleColor","radioColor","context","checked","contextValue","fade","undefined","onValueChange","styles","container","radio","borderColor","borderWidth","StyleSheet","absoluteFill","radioContainer","dot","backgroundColor","transform","displayName","create","borderRadius","alignItems","justifyContent","height","width","margin","marginTop","marginRight","marginBottom","marginLeft","RadioButtonAndroidWithTheme"],"mappings":"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","sourcesContent":["import * as React from \"react\";\r\nimport { Animated, View, StyleSheet } from \"react-native\";\r\nimport color from \"color\";\r\nimport { RadioButtonContext, RadioButtonContextType } from \"./RadioButtonGroup\";\r\nimport { handlePress, isChecked } from \"./utils\";\r\nimport TouchableRipple from \"../TouchableRipple/TouchableRipple\";\r\nimport { $RemoveChildren } from \"../types\";\r\nimport { DefaultTheme, ThemeContext } from \"styled-components\";\r\n\r\ntype Props = $RemoveChildren<typeof TouchableRipple> & {\r\n    /**\r\n     * Value of the radio button\r\n     */\r\n    value: string;\r\n    /**\r\n     * Status of radio button.\r\n     */\r\n    status?: \"checked\" | \"unchecked\";\r\n    /**\r\n     * Whether radio is disabled.\r\n     */\r\n    disabled?: boolean;\r\n    /**\r\n     * Function to execute on press.\r\n     */\r\n    onPress?: (param?: any) => void;\r\n    /**\r\n     * Custom color for unchecked radio.\r\n     */\r\n    uncheckedColor?: string;\r\n    /**\r\n     * Custom color for radio.\r\n     */\r\n    color?: string;\r\n    /**\r\n     * @optional\r\n     */\r\n    theme?: DefaultTheme;\r\n    /**\r\n     * testID to be used on tests.\r\n     */\r\n    testID?: string;\r\n};\r\n\r\nconst BORDER_WIDTH = 2;\r\n\r\n/**\r\n * Radio buttons allow the selection a single option from a set.\r\n * This component follows platform guidelines for Android, but can be used\r\n * on any platform.\r\n *\r\n * <div class=\"screenshots\">\r\n *   <figure>\r\n *     <img src=\"screenshots/radio-enabled.android.png\" />\r\n *     <figcaption>Enabled</figcaption>\r\n *   </figure>\r\n *   <figure>\r\n *     <img src=\"screenshots/radio-disabled.android.png\" />\r\n *     <figcaption>Disabled</figcaption>\r\n *   </figure>\r\n * </div>\r\n */\r\nconst RadioButtonAndroid = ({\r\n    disabled,\r\n    onPress,\r\n    value,\r\n    status,\r\n    testID,\r\n    ...rest\r\n}: Props) => {\r\n    const theme = React.useContext(ThemeContext);\r\n    const { current: borderAnim } = React.useRef<Animated.Value>(\r\n        new Animated.Value(BORDER_WIDTH)\r\n    );\r\n\r\n    const { current: radioAnim } = React.useRef<Animated.Value>(\r\n        new Animated.Value(1)\r\n    );\r\n\r\n    const isFirstRendering = React.useRef<boolean>(true);\r\n\r\n    const { scale } = theme.animation;\r\n\r\n    React.useEffect(() => {\r\n        // Do not run animation on very first rendering\r\n        if (isFirstRendering.current) {\r\n            isFirstRendering.current = false;\r\n            return;\r\n        }\r\n\r\n        if (status === \"checked\") {\r\n            radioAnim.setValue(1.2);\r\n\r\n            Animated.timing(radioAnim, {\r\n                toValue: 1,\r\n                duration: 150 * scale,\r\n                useNativeDriver: true,\r\n            }).start();\r\n        } else {\r\n            borderAnim.setValue(10);\r\n\r\n            Animated.timing(borderAnim, {\r\n                toValue: BORDER_WIDTH,\r\n                duration: 150 * scale,\r\n                useNativeDriver: false,\r\n            }).start();\r\n        }\r\n    }, [status, borderAnim, radioAnim, scale]);\r\n\r\n    const checkedColor = rest.color || theme.colors.accent;\r\n    const uncheckedColor =\r\n        rest.uncheckedColor ||\r\n        color(theme.colors.text)\r\n            .alpha(theme.dark ? 0.7 : 0.54)\r\n            .rgb()\r\n            .string();\r\n\r\n    let rippleColor: string, radioColor: string;\r\n\r\n    return (\r\n        <RadioButtonContext.Consumer>\r\n            {(context?: RadioButtonContextType) => {\r\n                const checked =\r\n                    isChecked({\r\n                        contextValue: context?.value,\r\n                        status,\r\n                        value,\r\n                    }) === \"checked\";\r\n\r\n                if (disabled) {\r\n                    rippleColor = color(theme.colors.text).alpha(0.16).rgb().string();\r\n                    radioColor = theme.colors.disabled;\r\n                } else {\r\n                    rippleColor = color(checkedColor).fade(0.32).rgb().string();\r\n                    radioColor = checked ? checkedColor : uncheckedColor;\r\n                }\r\n\r\n                return (\r\n                    <TouchableRipple\r\n                        {...rest}\r\n                        borderless\r\n                        rippleColor={rippleColor}\r\n                        onPress={\r\n                            disabled\r\n                                ? undefined\r\n                                : () => {\r\n                                    handlePress({\r\n                                        onPress,\r\n                                        onValueChange: context?.onValueChange,\r\n                                        value,\r\n                                    });\r\n                                }\r\n                        }\r\n                        // accessibilityTraits={disabled ? ['button', 'disabled'] : 'button'}\r\n                        // accessibilityComponentType={\r\n                        //     checked ? 'radiobutton_checked' : 'radiobutton_unchecked'\r\n                        // }\r\n                        accessibilityRole=\"radio\"\r\n                        accessibilityState={{ disabled, checked }}\r\n                        accessibilityLiveRegion=\"polite\"\r\n                        style={styles.container}\r\n                        testID={testID}\r\n                    >\r\n                        <Animated.View\r\n                            style={[\r\n                                styles.radio,\r\n                                {\r\n                                    borderColor: radioColor,\r\n                                    borderWidth: borderAnim,\r\n                                },\r\n                            ]}\r\n                        >\r\n                            {checked ? (\r\n                                <View style={[StyleSheet.absoluteFill, styles.radioContainer]}>\r\n                                    <Animated.View\r\n                                        style={[\r\n                                            styles.dot,\r\n                                            {\r\n                                                backgroundColor: radioColor,\r\n                                                transform: [{ scale: radioAnim }],\r\n                                            },\r\n                                        ]}\r\n                                    />\r\n                                </View>\r\n                            ) : null}\r\n                        </Animated.View>\r\n                    </TouchableRipple>\r\n                );\r\n            }}\r\n        </RadioButtonContext.Consumer>\r\n    );\r\n};\r\n\r\nRadioButtonAndroid.displayName = \"RadioButton.Android\";\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        borderRadius: 18,\r\n    },\r\n    radioContainer: {\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n    radio: {\r\n        height: 20,\r\n        width: 20,\r\n        borderRadius: 10,\r\n        margin: 8,\r\n        marginTop: 8,\r\n        marginRight: 8,\r\n        marginBottom: 8,\r\n        marginLeft: 8,\r\n    },\r\n    dot: {\r\n        height: 10,\r\n        width: 10,\r\n        borderRadius: 5,\r\n    },\r\n});\r\n\r\nexport default RadioButtonAndroid;\r\n\r\n// @component-docs ignore-next-line\r\nconst RadioButtonAndroidWithTheme = RadioButtonAndroid;\r\n// @component-docs ignore-next-line\r\nexport { RadioButtonAndroidWithTheme as RadioButtonAndroid };\r\n"]}