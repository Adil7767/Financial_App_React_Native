{"version":3,"sources":["ConfirmDialog.tsx"],"names":["React","StyleSheet","AlertDialog","Button","DialogActions","DialogContent","DialogTitle","Text","defaultProps","translations","confirmText","cancelText","ConfirmDialog","innerRef","children","title","message","dialogContentStyle","messageStyle","rest","visible","setVisible","useState","optionsRef","useRef","useImperativeHandle","open","opts","current","onConfirm","onCancel","close","_handleConfirm","_handleDismiss","styles","create","paddingHorizontal"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAAoBC,UAApB,QAA4D,cAA5D;AACA,OAAOC,WAAP,MAAwB,qDAAxB;AACA,OAAOC,MAAP,MAAmB,gDAAnB;AACA,SAASC,aAAT,EAAwBC,aAAxB,EAAuCC,WAAvC,QAA0D,gDAA1D;AACA,OAAOC,IAAP,MAAiB,8CAAjB;AAqBA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,YAAY,EAAE;AACVC,IAAAA,WAAW,EAAE,IADH;AAEVC,IAAAA,UAAU,EAAE;AAFF;AADG,CAArB;;AAOA,MAAMC,aAAa,GAAG,CAAC;AACnBC,EAAAA,QADmB;AAEnBC,EAAAA,QAFmB;AAGnBC,EAAAA,KAHmB;AAInBC,EAAAA,OAJmB;AAKnBP,EAAAA,YALmB;AAMnBQ,EAAAA,kBANmB;AAOnBC,EAAAA,YAPmB;AAQnB,KAAGC;AARgB,CAAD,KAST;AACT,QAAM,CAAEC,OAAF,EAAWC,UAAX,IAA0BrB,KAAK,CAACsB,QAAN,CAAe,KAAf,CAAhC;AACA,QAAMC,UAAU,GAAGvB,KAAK,CAACwB,MAAN,CAAkB,EAAlB,CAAnB;AAEAxB,EAAAA,KAAK,CAACyB,mBAAN,CAA0BZ,QAA1B,EAAoC,OAAO;AACvCa,IAAAA,IAAI,EAAGC,IAAD,IAAU;AACZJ,MAAAA,UAAU,CAACK,OAAX,GAAqB;AACjBC,QAAAA,SAAS,EAAEF,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEE,SADA;AAEjBC,QAAAA,QAAQ,EAAEH,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEG;AAFC,OAArB;AAIAT,MAAAA,UAAU,CAAC,IAAD,CAAV;AACH,KAPsC;AAQvCU,IAAAA,KAAK,EAAE,MAAM;AACTV,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH;AAVsC,GAAP,CAApC;;AAaA,QAAMW,cAAc,GAAG,MAAM;AACzB,QAAIT,UAAU,IAAIA,UAAU,CAACK,OAAzB,IAAoCL,UAAU,CAACK,OAAX,CAAmBC,SAA3D,EAAsE;AAClEN,MAAAA,UAAU,CAACK,OAAX,CAAmBC,SAAnB;AACH;;AACDhB,IAAAA,QAAQ,CAACe,OAAT,CAAiBG,KAAjB;AACH,GALD;;AAOA,QAAME,cAAc,GAAG,MAAM;AACzBpB,IAAAA,QAAQ,CAACe,OAAT,CAAiBG,KAAjB;AACH,GAFD;;AAIA,sBACI,oBAAC,WAAD;AACI,IAAA,OAAO,EAAEX,OADb;AAEI,IAAA,SAAS,EAAEa,cAFf;AAGI,IAAA,YAAY,EAAE;AAHlB,KAMQd,IANR,GAQKJ,KAAK,gBACF,oBAAC,WAAD,QAAcA,KAAd,CADE,GAGF,IAXR,eAaI,oBAAC,aAAD;AACI,IAAA,KAAK,EAAE,CACHmB,MAAM,CAACjB,kBADJ,EAEHA,kBAFG;AADX,KAMKD,OAAO,gBACJ,oBAAC,IAAD;AACI,IAAA,KAAK,EAAE,CACHE,YADG;AADX,KAKKF,OALL,CADI,GASJF,QAfR,CAbJ,eA+BI,oBAAC,aAAD,qBACI,oBAAC,MAAD;AACI,IAAA,IAAI,EAAC,UADT;AAEI,IAAA,OAAO,EAAEmB;AAFb,KAIKxB,YAJL,aAIKA,YAJL,uBAIKA,YAAY,CAAEE,UAJnB,CADJ,eAOI,oBAAC,MAAD;AACI,IAAA,IAAI,EAAC,WADT;AAEI,IAAA,OAAO,EAAEqB;AAFb,KAIKvB,YAJL,aAIKA,YAJL,uBAIKA,YAAY,CAAEC,WAJnB,CAPJ,CA/BJ,CADJ;AAgDH,CArFD;;AAuFAE,aAAa,CAACJ,YAAd,GAA6BA,YAA7B;AAEA,eAAeI,aAAf;AAEA,MAAMsB,MAAM,GAAGjC,UAAU,CAACkC,MAAX,CAAkB;AAC7BlB,EAAAA,kBAAkB,EAAE;AAChBmB,IAAAA,iBAAiB,EAAE;AADH;AADS,CAAlB,CAAf","sourcesContent":["import * as React from \"react\";\nimport { StyleProp, StyleSheet, TextStyle, ViewStyle } from \"react-native\";\nimport AlertDialog from \"react-native-simple-elements/components/AlertDialog\";\nimport Button from \"react-native-simple-elements/components/Button\";\nimport { DialogActions, DialogContent, DialogTitle } from \"react-native-simple-elements/components/Dialog\";\nimport Text from \"react-native-simple-elements/components/Text\";\n\ntype RefProps = {\n    open: (opts) => void,\n    close: () => void,\n};\n\ntype TranslationProps = {\n    cancelText: string,\n    confirmText: string,\n}\n\ntype Props = Omit<React.ComponentProps<typeof AlertDialog>, \"visible\" | \"onDismiss\"> & {\n    innerRef: React.RefObject<RefProps>,\n    title?: string,\n    message?: string,\n    translations?: TranslationProps,\n    dialogContentStyle?: StyleProp<ViewStyle>,\n    messageStyle?: StyleProp<TextStyle>,\n}\n\nconst defaultProps = {\n    translations: {\n        confirmText: \"Ok\",\n        cancelText: \"Cancel\",\n    },\n};\n\nconst ConfirmDialog = ({\n    innerRef,\n    children,\n    title,\n    message,\n    translations,\n    dialogContentStyle,\n    messageStyle,\n    ...rest\n}: Props) => {\n    const [ visible, setVisible ] = React.useState(false);\n    const optionsRef = React.useRef<any>({});\n\n    React.useImperativeHandle(innerRef, () => ({\n        open: (opts) => {\n            optionsRef.current = {\n                onConfirm: opts?.onConfirm,\n                onCancel: opts?.onCancel,\n            };\n            setVisible(true);\n        },\n        close: () => {\n            setVisible(false);\n        },\n    }));\n\n    const _handleConfirm = () => {\n        if (optionsRef && optionsRef.current && optionsRef.current.onConfirm) {\n            optionsRef.current.onConfirm();\n        }\n        innerRef.current.close();\n    };\n\n    const _handleDismiss = () => {\n        innerRef.current.close();\n    };\n\n    return (\n        <AlertDialog\n            visible={visible}\n            onDismiss={_handleDismiss}\n            contentStyle={{\n\n            }}\n            {...rest}\n        >\n            {title ?\n                <DialogTitle>{title}</DialogTitle>\n                :\n                null\n            }\n            <DialogContent\n                style={[\n                    styles.dialogContentStyle,\n                    dialogContentStyle,\n                ]}\n            >\n                {message ?\n                    <Text\n                        style={[\n                            messageStyle,\n                        ]}\n                    >\n                        {message}\n                    </Text>\n                    :\n                    children\n                }\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    mode=\"outlined\"\n                    onPress={_handleDismiss}\n                >\n                    {translations?.cancelText}\n                </Button>\n                <Button\n                    mode=\"contained\"\n                    onPress={_handleConfirm}\n                >\n                    {translations?.confirmText}\n                </Button>\n            </DialogActions>\n        </AlertDialog>\n    );\n};\n\nConfirmDialog.defaultProps = defaultProps;\n\nexport default ConfirmDialog;\n\nconst styles = StyleSheet.create({\n    dialogContentStyle: {\n        paddingHorizontal: 16,\n    },\n});\n"]}