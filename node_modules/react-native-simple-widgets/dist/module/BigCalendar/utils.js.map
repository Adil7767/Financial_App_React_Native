{"version":3,"sources":["utils.ts"],"names":["dayjs","React","OVERLAP_PADDING","typedMemo","memo","DAY_MINUTES","getDatesInMonth","date","Date","locale","subject","days","Array","daysInMonth","fill","map","_","i","getDatesInWeek","weekStartsOn","subjectDOW","day","add","getDatesInNextThreeDays","getDatesInNextOneDay","hours","formatHour","hour","ampm","isToday","today","isSame","getRelativeTopInDay","minute","todayInMinutes","diff","startOf","modeToNum","mode","current","Error","formatStartEnd","start","end","format","isAllDayEvent","_start","_end","getCountOfEventsAtEvent","event","eventList","filter","e","isBetween","length","getOrderOfEvent","events","sort","a","b","isBefore","index","indexOf","getStyleForOverlappingEvent","eventPosition","overlapOffset","palettes","overlapStyle","offset","zIndex","bgColors","p","main","backgroundColor","getDatesInNextCustomDays","weekEndsOn","weekDaysCount","daysCount","getEventSpanningInfo","dayOfTheWeek","calendarWidth","dayWidth","eventDuration","duration","eventDaysLeft","weekDaysLeft","isMultipleDays","eventWeekDuration","isMultipleDaysStart","isAfter","get","eventWidth"],"mappings":"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","sourcesContent":["import dayjs from \"dayjs\";\nimport * as React from \"react\";\n\nimport { OVERLAP_PADDING } from \"./styles/commonStyles\";\nimport { ICalendarEvent, Mode, WeekNum } from \"./interfaces\";\nimport { Palette } from \"./theme/ThemeInterface\";\n\nexport const typedMemo: <T>(c: T) => T = React.memo;\n\nexport const DAY_MINUTES = 1440;\n\nexport function getDatesInMonth(date: Date | dayjs.Dayjs = new Date(), locale = \"en\") {\n    const subject = dayjs(date);\n    const days = Array(subject.daysInMonth() - 1)\n        .fill(0)\n        .map((_, i) => {\n            return subject.date(i + 1).locale(locale);\n        });\n    return days;\n}\n\nexport function getDatesInWeek(\n    date: Date | dayjs.Dayjs = new Date(),\n    weekStartsOn: WeekNum = 0,\n    locale = \"en\",\n) {\n    const subject = dayjs(date);\n    const subjectDOW = subject.day();\n    const days = Array(7)\n        .fill(0)\n        .map((_, i) => {\n            return subject\n                .add(i - (subjectDOW < weekStartsOn ? 7 + subjectDOW : subjectDOW) + weekStartsOn, \"day\")\n                .locale(locale);\n        });\n    return days;\n}\n\nexport function getDatesInNextThreeDays(date: Date | dayjs.Dayjs = new Date(), locale = \"en\") {\n    const subject = dayjs(date).locale(locale);\n    const days = Array(3)\n        .fill(0)\n        .map((_, i) => {\n            return subject.add(i, \"day\");\n        });\n    return days;\n}\n\nexport function getDatesInNextOneDay(date: Date | dayjs.Dayjs = new Date(), locale = \"en\") {\n    const subject = dayjs(date).locale(locale);\n    const days = Array(1)\n        .fill(0)\n        .map((_, i) => {\n            return subject.add(i, \"day\");\n        });\n    return days;\n}\n\nexport const hours = [\n    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23,\n];\n\nexport function formatHour(hour: number, ampm = false) {\n    if (ampm) {\n        if (hour === 0) {\n            return \"\";\n        }\n        if (hour === 12) {\n            return \"12 PM\";\n        }\n        if (hour > 12) {\n            return `${hour - 12} PM`;\n        }\n        return `${hour} AM`;\n    }\n    return `${hour}:00`;\n}\n\nexport function isToday(date: dayjs.Dayjs) {\n    const today = dayjs();\n    return today.isSame(date, \"day\");\n}\n\nexport function getRelativeTopInDay(date: dayjs.Dayjs) {\n    return (100 * (date.hour() * 60 + date.minute())) / DAY_MINUTES;\n}\n\nexport function todayInMinutes() {\n    const today = dayjs();\n    return today.diff(dayjs().startOf(\"day\"), \"minute\");\n}\n\nexport function modeToNum(mode: Mode, current?: dayjs.Dayjs | Date): number {\n    if (mode === \"month\") {\n        if (!current) {\n            throw new Error(\"You must specify current date if mode is month\");\n        }\n        if (current instanceof Date) {\n            current = dayjs(current);\n        }\n        return current.daysInMonth() - current.date() + 1;\n    }\n    switch (mode) {\n    case \"day\":\n        return 1;\n    case \"3days\":\n        return 3;\n    case \"week\":\n    case \"custom\":\n        return 7;\n    default:\n        throw new Error(\"undefined mode\");\n    }\n}\n\nexport function formatStartEnd(start: Date, end: Date, format: string) {\n    return `${dayjs(start).format(format)} - ${dayjs(end).format(format)}`;\n}\n\nexport function isAllDayEvent(start: Date, end: Date) {\n    const _start = dayjs(start);\n    const _end = dayjs(end);\n\n    return _start.hour() === 0 && _start.minute() === 0 && _end.hour() === 0 && _end.minute() === 0;\n}\n\nexport function getCountOfEventsAtEvent(\n    event: ICalendarEvent<any>,\n    eventList: ICalendarEvent<any>[],\n) {\n    return eventList.filter(\n        (e) =>\n            dayjs(event.start).isBetween(e.start, e.end, \"minute\", \"[)\") ||\n            dayjs(e.start).isBetween(event.start, event.end, \"minute\", \"[)\"),\n    ).length;\n}\n\nexport function getOrderOfEvent(event: ICalendarEvent<any>, eventList: ICalendarEvent<any>[]) {\n    const events = eventList\n        .filter(\n            (e) =>\n                dayjs(event.start).isBetween(e.start, e.end, \"minute\", \"[)\") ||\n                dayjs(e.start).isBetween(event.start, event.end, \"minute\", \"[)\"),\n        )\n        .sort((a, b) => {\n            if (dayjs(a.start).isSame(b.start)) {\n                return dayjs(a.start).diff(a.end) < dayjs(b.start).diff(b.end) ? -1 : 1;\n            } else {\n                return dayjs(a.start).isBefore(b.start) ? -1 : 1;\n            }\n        });\n    const index = events.indexOf(event);\n    return index === -1 ? 0 : index;\n}\n\nexport function getStyleForOverlappingEvent(\n    eventPosition: number,\n    overlapOffset: number,\n    palettes: Palette[],\n) {\n    let overlapStyle = {};\n    const offset = overlapOffset;\n    const start = eventPosition * offset;\n    const zIndex = 100 + eventPosition;\n    const bgColors = palettes.map((p) => p.main);\n    overlapStyle = {\n        start: start + OVERLAP_PADDING,\n        end: OVERLAP_PADDING,\n        backgroundColor: bgColors[eventPosition % bgColors.length] || bgColors[0],\n        zIndex,\n    };\n    return overlapStyle;\n}\n\nexport function getDatesInNextCustomDays(\n    date: Date | dayjs.Dayjs = new Date(),\n    weekStartsOn: WeekNum = 0,\n    weekEndsOn: WeekNum = 6,\n    locale = \"en\",\n) {\n    const subject = dayjs(date);\n    const subjectDOW = subject.day();\n    const days = Array(weekDaysCount(weekStartsOn, weekEndsOn))\n        .fill(0)\n        .map((_, i) => {\n            return subject.add(i - subjectDOW + weekStartsOn, \"day\").locale(locale);\n        });\n    return days;\n}\n\n// TODO: This method should be unit-tested\nfunction weekDaysCount(weekStartsOn: WeekNum, weekEndsOn: WeekNum) {\n    // handle reverse week\n    if (weekEndsOn < weekStartsOn) {\n        let daysCount = 1;\n        let i = weekStartsOn;\n        while (i !== weekEndsOn) {\n            ++i;\n            ++daysCount;\n            if (i > 6) {\n                i = 0;\n            }\n            // fallback for infinite\n            if (daysCount > 7) {\n                break;\n            }\n        }\n        return daysCount;\n    }\n    // normal week\n    if (weekEndsOn > weekStartsOn) {\n        return weekEndsOn - weekStartsOn + 1;\n    }\n    // default\n    return 1;\n}\n\nexport function getEventSpanningInfo(\n    event: ICalendarEvent<any>,\n    date: dayjs.Dayjs,\n    dayOfTheWeek: number,\n    calendarWidth: number,\n) {\n    const dayWidth = calendarWidth / 7;\n\n    // adding + 1 because durations start at 0\n    const eventDuration = dayjs.duration(dayjs(event.end).diff(dayjs(event.start))).days() + 1;\n    const eventDaysLeft = dayjs.duration(dayjs(event.end).diff(date)).days() + 1;\n    const weekDaysLeft = 7 - dayOfTheWeek;\n    const isMultipleDays = eventDuration > 1;\n    // This is to determine how many days from the event to show during a week\n    const eventWeekDuration =\n        eventDuration > weekDaysLeft\n            ? weekDaysLeft\n            : dayOfTheWeek === 0 && eventDaysLeft < eventDuration\n                ? eventDaysLeft\n                : eventDuration;\n    const isMultipleDaysStart =\n        isMultipleDays &&\n        (date.isSame(event.start, \"day\") ||\n            (dayOfTheWeek === 0 && date.isAfter(event.start)) ||\n            date.get(\"date\") === 1);\n    // - 6 to take in account the padding\n    const eventWidth = dayWidth * eventWeekDuration - 6;\n\n    return { eventWidth, isMultipleDays, isMultipleDaysStart, eventWeekDuration };\n}\n"]}