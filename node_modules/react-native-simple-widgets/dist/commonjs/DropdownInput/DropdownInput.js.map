{"version":3,"sources":["DropdownInput.tsx"],"names":["SCREEN_INDENT","ANIMATION_DURATION","EASING","Easing","bezier","DropdownInput","React","Component","rendered","props","visible","top","left","menuLayout","width","height","anchorLayout","opacityAnimation","Animated","Value","scaleAnimation","ValueXY","x","y","isValidElement","anchor","Promise","resolve","menu","measureInWindow","isAnchorCoord","show","hide","Platform","OS","global","el","isBrowser","node","focusableNode","querySelector","focus","onDismiss","e","key","BackHandler","addEventListener","handleDismiss","Dimensions","document","handleKeypress","removeEventListener","theme","context","windowLayout","get","all","measureMenuLayout","measureAnchorLayout","requestAnimationFrame","setState","attachListeners","animation","parallel","timing","state","toValue","duration","scale","easing","useNativeDriver","start","finished","focusFirstDOMNode","removeListeners","setValue","getDerivedStateFromProps","nextProps","prevState","componentDidUpdate","prevProps","updateVisibility","componentWillUnmount","render","contentStyle","style","children","statusBarHeight","overlayAccessibilityLabel","additionalVerticalValue","select","android","default","scaleTransforms","scaleX","interpolate","inputRange","outputRange","scaleY","positionTransforms","push","translateX","right","scrollableMenuHeight","translateY","bottom","shadowMenuContainerStyle","opacity","transform","borderRadius","roundness","positionStyle","I18nManager","isRTL","ref","StyleSheet","absoluteFill","styles","wrapper","shadowMenuContainer","APPROX_STATUSBAR_HEIGHT","ThemeContext","create","position","paddingVertical","elevation"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport {\n    Platform,\n    StyleProp,\n    StyleSheet,\n    Animated,\n    BackHandler,\n    Dimensions,\n    Easing,\n    I18nManager,\n    LayoutRectangle,\n    TouchableWithoutFeedback,\n    View,\n    ViewStyle,\n    ScrollView,\n    findNodeHandle,\n} from \"react-native\";\n\nimport { $Omit } from \"react-native-simple-elements/components/types\";\nimport Surface from \"react-native-simple-elements/components/Surface\";\nimport { APPROX_STATUSBAR_HEIGHT } from \"react-native-simple-elements/components/theme/constants\";\nimport { DefaultTheme, ThemeContext } from \"styled-components\";\nimport Portal from \"react-native-simple-elements/components/Portal/Portal\";\n\ntype Props = {\n    /**\n     * Whether the Menu is currently visible.\n     */\n    visible: boolean;\n    /**\n     * The anchor to open the menu from. In most cases, it will be a button that opens the menu.\n     */\n    anchor: React.ReactNode | { x: number; y: number };\n    /**\n     * Extra margin to add at the top of the menu to account for translucent status bar on Android.\n     * If you are using Expo, we assume translucent status bar and set a height for status bar automatically.\n     * Pass `0` or a custom value to and customize it.\n     * This is automatically handled on iOS.\n     */\n    statusBarHeight?: number;\n    /**\n     * Callback called when Menu is dismissed. The `visible` prop needs to be updated when this is called.\n     */\n    onDismiss: () => void;\n    /**\n     * Accessibility label for the overlay. This is read by the screen reader when the user taps outside the menu.\n     */\n    overlayAccessibilityLabel?: string;\n    /**\n     * Content of the `Menu`.\n     */\n    children: React.ReactNode;\n    /**\n     * Style of menu's inner content.\n     */\n    contentStyle?: StyleProp<ViewStyle>;\n    style?: StyleProp<ViewStyle>;\n    /**\n     * @optional\n     */\n    theme?: DefaultTheme;\n};\n\ntype Layout = $Omit<$Omit<LayoutRectangle, \"x\">, \"y\">;\n\ntype State = {\n    rendered: boolean;\n    top: number;\n    left: number;\n    menuLayout: Layout;\n    anchorLayout: Layout;\n    opacityAnimation: Animated.Value;\n    scaleAnimation: Animated.ValueXY;\n};\n\n// Minimum padding between the edge of the screen and the menu\nconst SCREEN_INDENT = 8;\n// From https://material.io/design/motion/speed.html#duration\nconst ANIMATION_DURATION = 250;\n// From the 'Standard easing' section of https://material.io/design/motion/speed.html#easing\nconst EASING = Easing.bezier(0.4, 0, 0.2, 1);\n\n/**\n * Menus display a list of choices on temporary elevated surfaces. Their placement varies based on the element that opens them.\n *\n *  <div class=\"screenshots\">\n *   <img class=\"medium\" src=\"screenshots/menu-1.png\" />\n *   <img class=\"medium\" src=\"screenshots/menu-2.png\" />\n * </div>\n *\n * ## Usage\n * ```js\n * import * as React from 'react';\n * import { View } from 'react-native';\n * import Provider from 'react-native-simple-elements/components/theme/Provider';\n * import Button from 'react-native-simple-elements/components/Button';\n * import Divider from 'react-native-simple-elements';\n * import DropdownInput from 'react-native-simple-widgets/widgets/DropdownInput';\n *\n * const MyComponent = () => {\n *   const [visible, setVisible] = React.useState(false);\n *\n *   const openMenu = () => setVisible(true);\n *\n *   const closeMenu = () => setVisible(false);\n *\n *   return (\n *     <Provider>\n *       <View\n *         style={{\n *           paddingTop: 50,\n *           flexDirection: 'row',\n *           justifyContent: 'center',\n *         }}>\n *         <DropdownInput\n *           visible={visible}\n *           onDismiss={closeMenu}\n *           anchor={<Button onPress={openMenu}>Show menu</Button>}>\n *           <Menu.Item onPress={() => {}} title=\"Item 1\" />\n *           <Menu.Item onPress={() => {}} title=\"Item 2\" />\n *           <Divider />\n *           <Menu.Item onPress={() => {}} title=\"Item 3\" />\n *         </DropdownInput>\n *       </View>\n *     </Provider>\n *   );\n * };\n *\n * export default MyComponent;\n * ```\n */\nclass DropdownInput extends React.Component<Props, State> {\n\n    static defaultProps = {\n        statusBarHeight: APPROX_STATUSBAR_HEIGHT,\n        overlayAccessibilityLabel: \"Close menu\",\n    };\n\n    static contextType: any = ThemeContext;\n\n    static getDerivedStateFromProps(nextProps: Props, prevState: State) {\n        if (nextProps.visible && !prevState.rendered) {\n            return { rendered: true };\n        }\n\n        return null;\n    }\n\n    state = {\n        rendered: this.props.visible,\n        top: 0,\n        left: 0,\n        menuLayout: { width: 0, height: 0 },\n        anchorLayout: { width: 0, height: 0 },\n        opacityAnimation: new Animated.Value(0),\n        scaleAnimation: new Animated.ValueXY({ x: 0, y: 0 }),\n    };\n\n    componentDidUpdate(prevProps: Props) {\n        if (prevProps.visible !== this.props.visible) {\n            this.updateVisibility();\n        }\n    }\n\n    componentWillUnmount() {\n        this.removeListeners();\n    }\n\n    private anchor?: View | null = null;\n    private menu?: View | null = null;\n\n    private isAnchorCoord = () => !React.isValidElement(this.props.anchor);\n\n    private measureMenuLayout = () =>\n        new Promise<LayoutRectangle>((resolve) => {\n            if (this.menu) {\n                this.menu.measureInWindow((x, y, width, height) => {\n                    resolve({ x, y, width, height });\n                });\n            }\n        });\n\n    private measureAnchorLayout = () =>\n        new Promise<LayoutRectangle>((resolve) => {\n            const { anchor } = this.props;\n            if (this.isAnchorCoord()) {\n                // @ts-ignore\n                resolve({ x: anchor.x, y: anchor.y, width: 0, height: 0 });\n                return;\n            }\n\n            if (this.anchor) {\n                this.anchor.measureInWindow((x, y, width, height) => {\n                    resolve({ x, y, width, height });\n                });\n            }\n        });\n\n    private updateVisibility = async () => {\n        // Menu is rendered in Portal, which updates items asynchronously\n        // We need to do the same here so that the ref is up-to-date\n        await Promise.resolve();\n\n        if (this.props.visible) {\n            this.show();\n        } else {\n            this.hide();\n        }\n    };\n\n    private isBrowser = () => Platform.OS === \"web\" && \"document\" in global;\n\n    private focusFirstDOMNode = (el: View | null | undefined) => {\n        if (el && this.isBrowser()) {\n            // When in the browser, we want to focus the first focusable item on toggle\n            // For example, when menu is shown, focus the first item in the menu\n            // And when menu is dismissed, send focus back to the button to resume tabbing\n            const node: any = findNodeHandle(el);\n            const focusableNode = node.querySelector(\n                // This is a rough list of selectors that can be focused\n                \"button, [href], input, select, textarea, [tabindex]:not([tabindex=\\\"-1\\\"])\"\n            );\n\n            focusableNode?.focus();\n        }\n    };\n\n    private handleDismiss = () => {\n        if (this.props.visible) {\n            this.props.onDismiss();\n        }\n        return true;\n    };\n\n    private handleKeypress = (e: KeyboardEvent) => {\n        if (e.key === \"Escape\") {\n            this.props.onDismiss();\n        }\n    };\n\n    private attachListeners = () => {\n        BackHandler.addEventListener(\"hardwareBackPress\", this.handleDismiss);\n        Dimensions.addEventListener(\"change\", this.handleDismiss);\n\n        this.isBrowser() && document.addEventListener(\"keyup\", this.handleKeypress);\n    };\n\n    private removeListeners = () => {\n        BackHandler.removeEventListener(\"hardwareBackPress\", this.handleDismiss);\n        Dimensions.removeEventListener(\"change\", this.handleDismiss);\n\n        this.isBrowser() &&\n            document.removeEventListener(\"keyup\", this.handleKeypress);\n    };\n\n    private show = async () => {\n        const theme = this.context;\n        const windowLayout = Dimensions.get(\"window\");\n        const [menuLayout, anchorLayout] = await Promise.all([\n            this.measureMenuLayout(),\n            this.measureAnchorLayout(),\n        ]);\n\n        // When visible is true for first render\n        // native views can be still not rendered and\n        // measureMenuLayout/measureAnchorLayout functions\n        // return wrong values e.g { x:0, y: 0, width: 0, height: 0 }\n        // so we have to wait until views are ready\n        // and rerun this function to show menu\n        if (\n            !windowLayout.width ||\n            !windowLayout.height ||\n            !menuLayout.width ||\n            !menuLayout.height ||\n            (!anchorLayout.width && !this.isAnchorCoord()) ||\n            (!anchorLayout.height && !this.isAnchorCoord())\n        ) {\n            requestAnimationFrame(this.show);\n            return;\n        }\n\n        this.setState(\n            () => ({\n                left: anchorLayout.x,\n                top: anchorLayout.y + anchorLayout.height,\n                // top: anchorLayout.y + anchorLayout.height,\n                anchorLayout: {\n                    height: anchorLayout.height,\n                    width: anchorLayout.width,\n                },\n                menuLayout: {\n                    width: menuLayout.width,\n                    height: menuLayout.height,\n                },\n            }),\n            () => {\n                this.attachListeners();\n\n                const { animation } = theme;\n                Animated.parallel([\n                    Animated.timing(this.state.scaleAnimation, {\n                        toValue: { x: menuLayout.width, y: menuLayout.height },\n                        duration: ANIMATION_DURATION * animation.scale,\n                        easing: EASING,\n                        useNativeDriver: true,\n                    }),\n                    Animated.timing(this.state.opacityAnimation, {\n                        toValue: 1,\n                        duration: ANIMATION_DURATION * animation.scale,\n                        easing: EASING,\n                        useNativeDriver: true,\n                    }),\n                ]).start(({ finished }) => {\n                    if (finished) {\n                        this.focusFirstDOMNode(this.menu);\n                    }\n                });\n            }\n        );\n    };\n\n    private hide = () => {\n        const theme = this.context;\n        this.removeListeners();\n\n        const { animation } = theme;\n        Animated.timing(this.state.opacityAnimation, {\n            toValue: 0,\n            duration: ANIMATION_DURATION * animation.scale,\n            easing: EASING,\n            useNativeDriver: true,\n        }).start(({ finished }) => {\n            if (finished) {\n                this.setState({ menuLayout: { width: 0, height: 0 }, rendered: false });\n                this.state.scaleAnimation.setValue({ x: 0, y: 0 });\n                // this.focusFirstDOMNode(this.anchor);\n            }\n        });\n    };\n\n    render() {\n        const {\n            visible,\n            anchor,\n            contentStyle,\n            style,\n            children,\n            statusBarHeight,\n            onDismiss,\n            overlayAccessibilityLabel,\n        } = this.props;\n        const theme = this.context;\n\n        const {\n            rendered,\n            menuLayout,\n            anchorLayout,\n            opacityAnimation,\n            scaleAnimation,\n        } = this.state;\n\n        let { left, top } = this.state;\n\n        // I don't know why but on Android measure function is wrong by 24\n        const additionalVerticalValue = Platform.select({\n            android: statusBarHeight,\n            default: 0,\n        });\n\n        const scaleTransforms = [\n            {\n                scaleX: scaleAnimation.x.interpolate({\n                    inputRange: [0, menuLayout.width],\n                    outputRange: [0, 1],\n                }),\n            },\n            {\n                scaleY: scaleAnimation.y.interpolate({\n                    inputRange: [0, menuLayout.height],\n                    outputRange: [0, 1],\n                }),\n            },\n        ];\n\n        const windowLayout = Dimensions.get(\"window\");\n\n        // We need to translate menu while animating scale to imitate transform origin for scale animation\n        const positionTransforms = [];\n\n        // Check if menu fits horizontally and if not align it to right.\n        if (left <= windowLayout.width - menuLayout.width - SCREEN_INDENT) {\n            positionTransforms.push({\n                translateX: scaleAnimation.x.interpolate({\n                    inputRange: [0, menuLayout.width],\n                    outputRange: [-(menuLayout.width / 2), 0],\n                }),\n            });\n\n            // Check if menu position has enough space from left side\n            if (left < SCREEN_INDENT) {\n                left = SCREEN_INDENT;\n            }\n        } else {\n            positionTransforms.push({\n                translateX: scaleAnimation.x.interpolate({\n                    inputRange: [0, menuLayout.width],\n                    outputRange: [menuLayout.width / 2, 0],\n                }),\n            });\n\n            left += anchorLayout.width - menuLayout.width;\n\n            const right = left + menuLayout.width;\n            // Check if menu position has enough space from right side\n            if (right > windowLayout.width - SCREEN_INDENT) {\n                left = windowLayout.width - SCREEN_INDENT - menuLayout.width;\n            }\n        }\n\n        // If the menu is larger than available vertical space,\n        // calculate the height of scrollable view\n        let scrollableMenuHeight = 0;\n\n        // Check if the menu should be scrollable\n        if (\n            // Check if the menu overflows from bottom side\n            top >=\n            windowLayout.height -\n            menuLayout.height -\n            SCREEN_INDENT -\n            additionalVerticalValue &&\n            // And bottom side of the screen has more space than top side\n            top <= windowLayout.height - top\n        ) {\n            // Scrollable menu should be below the anchor (expands downwards)\n            scrollableMenuHeight =\n                windowLayout.height - top - SCREEN_INDENT - additionalVerticalValue;\n        } else if (\n            // Check if the menu overflows from bottom side\n            top >=\n            windowLayout.height -\n            menuLayout.height -\n            SCREEN_INDENT -\n            additionalVerticalValue &&\n            // And top side of the screen has more space than bottom side\n            top >= windowLayout.height - top &&\n            // And menu overflows from top side\n            top <=\n            menuLayout.height -\n            anchorLayout.height +\n            SCREEN_INDENT -\n            additionalVerticalValue\n        ) {\n            // Scrollable menu should be above the anchor (expands upwards)\n            scrollableMenuHeight =\n                top + anchorLayout.height - SCREEN_INDENT + additionalVerticalValue;\n        }\n\n        // Scrollable menu max height\n        scrollableMenuHeight =\n            scrollableMenuHeight > windowLayout.height - 2 * SCREEN_INDENT\n                ? windowLayout.height - 2 * SCREEN_INDENT\n                : scrollableMenuHeight;\n\n        // Menu is typically positioned below the element that generates it\n        // So first check if it fits below the anchor (expands downwards)\n        if (\n            // Check if menu fits vertically\n            top <=\n            windowLayout.height -\n            menuLayout.height -\n            SCREEN_INDENT -\n            additionalVerticalValue ||\n            // Or if the menu overflows from bottom side\n            (top >=\n                windowLayout.height -\n                menuLayout.height -\n                SCREEN_INDENT -\n                additionalVerticalValue &&\n                // And bottom side of the screen has more space than top side\n                top <= windowLayout.height - top)\n        ) {\n            positionTransforms.push({\n                translateY: scaleAnimation.y.interpolate({\n                    inputRange: [0, menuLayout.height],\n                    outputRange: [-((scrollableMenuHeight || menuLayout.height) / 2), 0],\n                }),\n            });\n\n            // Check if menu position has enough space from top side\n            if (top < SCREEN_INDENT) {\n                top = SCREEN_INDENT;\n            }\n        } else {\n            positionTransforms.push({\n                translateY: scaleAnimation.y.interpolate({\n                    inputRange: [0, menuLayout.height],\n                    outputRange: [(scrollableMenuHeight || menuLayout.height) / 2, 0],\n                }),\n            });\n\n            top += anchorLayout.height - (scrollableMenuHeight || menuLayout.height);\n\n            const bottom =\n                top +\n                (scrollableMenuHeight || menuLayout.height) +\n                additionalVerticalValue;\n\n            // Check if menu position has enough space from bottom side\n            if (bottom > windowLayout.height - SCREEN_INDENT) {\n                top =\n                    scrollableMenuHeight === windowLayout.height - 2 * SCREEN_INDENT\n                        ? -SCREEN_INDENT * 2\n                        : windowLayout.height -\n                        menuLayout.height -\n                        SCREEN_INDENT -\n                        additionalVerticalValue;\n            }\n        }\n\n        const shadowMenuContainerStyle = {\n            opacity: opacityAnimation,\n            transform: scaleTransforms,\n            borderRadius: theme.roundness,\n            ...(scrollableMenuHeight ? { height: scrollableMenuHeight } : {}),\n        };\n\n        const positionStyle = {\n            top: this.isAnchorCoord() ? top : top + additionalVerticalValue,\n            ...(I18nManager.isRTL ? { right: left } : { left }),\n        };\n\n        return (\n            <View\n                ref={(ref) => {\n                    this.anchor = ref;\n                }}\n                collapsable={false}\n            >\n                {this.isAnchorCoord() ? null : anchor}\n                {rendered ? (\n                    <Portal\n                        theme={theme}\n                    >\n                        <TouchableWithoutFeedback\n                            accessibilityLabel={overlayAccessibilityLabel}\n                            accessibilityRole=\"button\"\n                            onPress={onDismiss}\n                        >\n                            <View style={StyleSheet.absoluteFill} />\n                        </TouchableWithoutFeedback>\n                        <View\n                            ref={(ref) => {\n                                this.menu = ref;\n                            }}\n                            collapsable={false}\n                            accessibilityViewIsModal={visible}\n                            style={[styles.wrapper, positionStyle, style]}\n                            pointerEvents={visible ? \"box-none\" : \"none\"}\n                            onAccessibilityEscape={onDismiss}\n                        >\n                            <Animated.View style={{ transform: positionTransforms }}>\n                                <Surface\n                                    style={\n                                        [\n                                            styles.shadowMenuContainer,\n                                            shadowMenuContainerStyle,\n                                            contentStyle,\n                                        ] as StyleProp<ViewStyle>\n                                    }\n                                >\n                                    {(scrollableMenuHeight && (\n                                        <ScrollView>{children}</ScrollView>\n                                    )) || <React.Fragment>{children}</React.Fragment>}\n                                </Surface>\n                            </Animated.View>\n                        </View>\n                    </Portal>\n                ) : null}\n            </View>\n        );\n    }\n}\n\nconst styles = StyleSheet.create({\n    wrapper: {\n        position: \"absolute\",\n    },\n    shadowMenuContainer: {\n        opacity: 0,\n        paddingVertical: 8,\n        elevation: 8,\n    },\n});\n\nexport default DropdownInput;\n"]}